
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A hookup guide for the TMC6300 BLDC Motor Driver">
      
      
        <meta name="author" content="SparkFun Electronics">
      
      
        <link rel="canonical" href="https://sparkfun.github.io/SparkFun_Three_Phase_Motor_Driver-TMC6300/single_page/">
      
      
      
      
        
      
      
      <link rel="icon" href="../img/sfe_logo_sq.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49+insiders-4.53.14">
    
    
      
        <title>Hardware Overview - Hookup Guide - TMC6300 BLDC Motor Driver</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f50c755.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25m13.274 9.537zl-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074M4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5M4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75M8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.307 5.476c-.756.134-1.975-.615-2.59-1.362-.755-.922-.66-1.647-.071-2.29.883-.978 2.396-.6 2.396-.6s-2.772-2.432-5.658-.44c-2.571 1.77-1.833 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.443-.184-2.034-1.343-1.687-2.054.298-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044c-1.259.474-2.297 1.515-2.214 4.12V24s1.301-1.604 2.83-3.236c1.714-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.371-3.645 3.141-4.563.67-9.68-1.43-10.343 0 0 .34 1.438-.745 1.638"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6 6 0 0 0-.26.16 1 1 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1 1 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.61.61 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1 1 0 0 0-.34.398M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343za8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746m1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275M6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.75.75 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L6.94 8 4.97 6.03a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.25 1.25 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005 0-.009.004"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.5 3.5 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327q0 .15-.025.292c.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5q-.002.615-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A5 5 0 0 1 8 16a5 5 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5 5 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.7 1.7 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06m.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.17.17 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5m4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0"/></svg>');--md-admonition-icon--github:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>');--md-admonition-icon--arduino:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.5 6.5 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854M6.53 15.734a4 4 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777q.312.002.624.043c2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734m11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734q.312-.041.624-.043c2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777m1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>');--md-admonition-icon--python:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.25.18.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg>');--md-admonition-icon--code:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg>');--md-admonition-icon--terminal:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.75.75 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53m1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5"/></svg>');--md-admonition-icon--serial:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h176l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32h256c17.7 0 32-14.3 32-32s-14.3-32-32-32h-69.3L336 416h176c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm448 64v288H64V64z"/></svg>');--md-admonition-icon--hot:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.66 11.2c-.23-.3-.51-.56-.77-.82-.67-.6-1.43-1.03-2.07-1.66C11.33 7.26 11 4.85 11.95 3c-.95.23-1.78.75-2.49 1.32-2.59 2.08-3.61 5.75-2.39 8.9.04.1.08.2.08.33 0 .22-.15.42-.35.5-.23.1-.47.04-.66-.12a.6.6 0 0 1-.14-.17c-1.13-1.43-1.31-3.48-.55-5.12C3.78 10 2.87 12.3 3 14.47c.06.5.12 1 .29 1.5.14.6.41 1.2.71 1.73 1.08 1.73 2.95 2.97 4.96 3.22 2.14.27 4.43-.12 6.07-1.6 1.83-1.66 2.47-4.32 1.53-6.6l-.13-.26c-.21-.46-.77-1.26-.77-1.26m-3.16 6.3c-.28.24-.74.5-1.1.6-1.12.4-2.24-.16-2.9-.82 1.19-.28 1.9-1.16 2.11-2.05.17-.8-.15-1.46-.28-2.23-.12-.74-.1-1.37.17-2.06.19.38.39.76.63 1.06.77 1 1.98 1.44 2.24 2.8.04.14.06.28.06.43.03.82-.33 1.72-.93 2.27M21 13h-2V7h2zm0 4h-2v-2h2z"/></svg>');--md-admonition-icon--link:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018 2 2 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.75.75 0 0 1-1.042-.018.75.75 0 0 1-.018-1.042m-4.69 9.64a2 2 0 0 0 2.83 0l1.25-1.25a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018 2 2 0 0 0-2.83 0l-2.5 2.5a2 2 0 0 0 0 2.83"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../stylesheet/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hardware-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine base classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <!-- <a
      href="https://www.sparkfun.com"
      title="Hookup Guide - TMC6300 BLDC Motor Driver"
      class="md-header__button md-logo"
      aria-label="Hookup Guide - TMC6300 BLDC Motor Driver"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

    </a> -->
    <a
      href="https://www.sparkfun.com"
      title="sparkfun.com"
      class="md-header__button md-logo"
      aria-label="Hookup Guide - TMC6300 BLDC Motor Driver"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hookup Guide - TMC6300 BLDC Motor Driver
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hardware Overview
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme)"
            data-md-color-scheme="default"
            data-md-color-primary="grey"
            data-md-color-accent="red"
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to dark mode"
              for="__palette_3"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
            </label>
          
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: light)"
            data-md-color-scheme="default"
            data-md-color-primary="grey"
            data-md-color-accent="red"
            
              aria-label="Switch to system preference"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to system preference"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
            </label>
          
        
          
          <input
            class="md-option"
            data-md-color-media="(prefers-color-scheme: dark)"
            data-md-color-scheme="slate"
            data-md-color-primary="grey"
            data-md-color-accent="red"
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_3"
          />
          
            <label
              class="md-header__button md-icon"
              title="Switch to light mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/sparkfun/SparkFun_Three_Phase_Motor_Driver-TMC6300" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    sparkfun/SparkFun_Three_Phase_Motor_Driver-TMC6300
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Navigation tabs -->
<nav
  class="md-tabs"
  aria-label="Tabs"
  data-md-component="tabs"
>
  <div class="md-tabs__inner md-grid">

    <!-- Adds tab on right side of header -->
    
    <ul class="md-tabs__list" style="float: right;">
      <li class="md-tabs__item">
        <a href="/SparkFun_Three_Phase_Motor_Driver-TMC6300/hard_copy/" class="md-tabs__link">
          Hard Copies üñ®Ô∏è
        <!-- &nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.5c-1.35-.85-3.8-1.5-5.5-1.5-1.65 0-3.35.3-4.75 1.05-.1.05-.15.05-.25.05-.25 0-.5-.25-.5-.5V6c.6-.45 1.25-.75 2-1 1.11-.35 2.33-.5 3.5-.5 1.95 0 4.05.4 5.5 1.5 1.45-1.1 3.55-1.5 5.5-1.5 1.17 0 2.39.15 3.5.5.75.25 1.4.55 2 1v14.6c0 .25-.25.5-.5.5-.1 0-.15 0-.25-.05-1.4-.75-3.1-1.05-4.75-1.05-1.7 0-4.15.65-5.5 1.5M12 8v11.5c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5V7c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5m1 3.5c1.11-.68 2.6-1 4.5-1 .91 0 1.76.09 2.5.28V9.23c-.87-.15-1.71-.23-2.5-.23q-2.655 0-4.5.84zm4.5.17c-1.71 0-3.21.26-4.5.79v1.69c1.11-.65 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5c-.87-.16-1.71-.23-2.5-.23m2.5 2.9c-.87-.16-1.71-.24-2.5-.24-1.83 0-3.33.27-4.5.8v1.69c1.11-.66 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24z"/></svg> -->
        </a>
      </li>
    </ul>
    

    <!-- Original tabbed sections -->
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../introduction/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../resources/" class="md-tabs__link">
          
  
  Resources

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../troubleshooting_tips/" class="md-tabs__link">
          
  
  Support

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Determine base classes -->


  



<!-- Navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Site title -->
  <!-- <label class="md-nav__title" for="__drawer">
    <a
      href="https://www.sparkfun.com"
      title="Hookup Guide - TMC6300 BLDC Motor Driver"
      class="md-nav__button md-logo"
      aria-label="Hookup Guide - TMC6300 BLDC Motor Driver"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

    </a>
    Hookup Guide - TMC6300 BLDC Motor Driver
  </label> -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="https://www.sparkfun.com"
      title="sparkfun.com"
      class="md-nav__button md-logo"
      aria-label="SparkFun"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

    </a>
    Hookup Guide - TMC6300 BLDC Motor Driver
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/sparkfun/SparkFun_Three_Phase_Motor_Driver-TMC6300" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    sparkfun/SparkFun_Three_Phase_Motor_Driver-TMC6300
  </div>
</a>
    </div>
  

  <!-- Navigation list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg>
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_overview/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97s-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1s.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Hardware Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Hardware Assembly
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hardware Assembly
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component_assembly/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.8 3.8 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.8 3.8 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Hardware Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_assembly/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.8 3.8 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.8 3.8 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Example Setups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Software - Arduino IDE
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Software - Arduino IDE
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../software_overview/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.5 6.5 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854M6.53 15.734a4 4 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777q.312.002.624.043c2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734m11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734q.312-.041.624-.043c2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777m1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Installation & Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arduino_examples/example-BLDC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Example - Basic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arduino_examples/example-DC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Example - H-Bridge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Resources
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Hardware Resources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../background/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Background Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Support
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Support
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting_tips/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>
  
  <span class="md-ellipsis">
    
  
    Troubleshooting Tips
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github/file_issue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Submit Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github/contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contribute
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    

    <!-- Add Hard Copies to NAV menu -->
    <li class="md-nav__item">
      <a href="/SparkFun_Three_Phase_Motor_Driver-TMC6300/hard_copy/" class="md-nav__link">
      <span class="md-ellipsis">
        Hard Copies üñ®Ô∏è
        <!-- Hard Copies&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.5c-1.35-.85-3.8-1.5-5.5-1.5-1.65 0-3.35.3-4.75 1.05-.1.05-.15.05-.25.05-.25 0-.5-.25-.5-.5V6c.6-.45 1.25-.75 2-1 1.11-.35 2.33-.5 3.5-.5 1.95 0 4.05.4 5.5 1.5 1.45-1.1 3.55-1.5 5.5-1.5 1.17 0 2.39.15 3.5.5.75.25 1.4.55 2 1v14.6c0 .25-.25.5-.5.5-.1 0-.15 0-.25-.05-1.4-.75-3.1-1.05-4.75-1.05-1.7 0-4.15.65-5.5 1.5M12 8v11.5c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5V7c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5m1 3.5c1.11-.68 2.6-1 4.5-1 .91 0 1.76.09 2.5.28V9.23c-.87-.15-1.71-.23-2.5-.23q-2.655 0-4.5.84zm4.5.17c-1.71 0-3.21.26-4.5.79v1.69c1.11-.65 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5c-.87-.16-1.71-.23-2.5-.23m2.5 2.9c-.87-.16-1.71-.24-2.5-.24-1.83 0-3.33.27-4.5.8v1.69c1.11-.66 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24z"/></svg> -->
      </span>
      </a>
    </li>
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#board-dimensions" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Board Dimensions<a class="headerlink" href="#board-dimensions" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#power" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Power<a class="headerlink" href="#power" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Power">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#power-led" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Power LED<a class="headerlink" href="#power-led" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viostandby-pin" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          <code>VIO</code>/Standby Pin<a class="headerlink" href="#viostandby-pin" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vcp-pin" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          <code>VCP</code>&nbsp;Pin<a class="headerlink" href="#vcp-pin" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tmc6300" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56zm-16 104h192c17.7 0 32 14.3 32 32v192c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32m192 32H160v192h192z"/></svg></span>&nbsp;TMC6300<a class="headerlink" href="#tmc6300" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="¬†TMC6300">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#motor-commutation" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Motor Commutation<a class="headerlink" href="#motor-commutation" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#io-pins" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          I/O Pins<a class="headerlink" href="#io-pins" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I/O Pins">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#half-bridges" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Half-Bridges<a class="headerlink" href="#half-bridges" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnostic-pin" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Diagnostic Pin<a class="headerlink" href="#diagnostic-pin" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current-sense-pin" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Current Sense Pin<a class="headerlink" href="#current-sense-pin" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leds" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          LEDs<a class="headerlink" href="#leds" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#heat-sink-pad" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Heat Sink Pad<a class="headerlink" href="#heat-sink-pad" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jumpers" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Jumpers<a class="headerlink" href="#jumpers" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                

  




              
              <article class="md-content__inner md-typeset">
                

<!-- Adds file-eye icon to view hookup guide as a single page -->

    <a href="/SparkFun_Three_Phase_Motor_Driver-TMC6300/single_page" title="View as Single-Page" class="md-content__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>



                  
  



  
    <a href="https://github.com/sparkfun/SparkFun_Three_Phase_Motor_Driver-TMC6300/blob/main/docs/single_page.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 12h8v2H8zm2 8H6V4h7v5h5v3.1l2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4zm-2-2h4.1l.9-.9V16H8zm12.2-5c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="hardware-overview">Hardware Overview<a class="headerlink" href="#hardware-overview" title="Permanent link"></a></h1>
<h2 id="board-dimensions">Board Dimensions<a class="headerlink" href="#board-dimensions" title="Permanent link"></a></h2>
<p>The board dimensions are illustrated in the drawing below; the listed measurements are in inches.</p>
<figure>
<p><a href="../img/hookup_guide/dimensions.png" title="Click to enlarge"><img alt="Board Dimensions" src="../img/hookup_guide/dimensions.png" width="400" /></a></p>
<figcaption>
<p><a href="../board_files/dimensions.pdf">Board dimensions (PDF)</a> for the TMC6300 motor driver breakout board, in inches.</p>
</figcaption>
</figure>
<details class="tip">
<summary>Need more measurements?</summary>
<p>For more information about the board's dimensions, users can download the <a href="../board_files/eagle_files.zip">eagle files</a> for the board. These files can be opened in Eagle and additional measurements can be made with the dimensions tool.</p>
<details class="info">
<summary><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06z"/></svg></span> Eagle - Free Download!</summary>
<p>Eagle is a <a href="" title="computer-aided design">CAD</a> program for electronics that is free to use for hobbyists and students. However, it does require an account registration to utilize the software.</p>
<p><center>
<a class="md-button md-button--primary" href="https://www.autodesk.com/products/eagle/free-download" title="Go to downloads page" width="250px">Download from<br><span class="twemoji autodesk"><svg role="img" viewbox=" 0 0 335 34.397" xmlns="http://www.w3.org/2000/svg"><title>Autodesk primary logo</title><path d="M 0.253,33.578 29.488,15.376 H 44.66 c 0.468,0 0.896,0.37 0.896,0.897 0,0.428 -0.195,0.604 -0.428,0.74 l -14.355,8.614 c -0.935,0.565 -1.266,1.676 -1.266,2.514 l -0.019,5.437 h 18.25 V 2.026 c 0,-0.604 -0.468,-1.13 -1.169,-1.13 H 29.157 L 0,19.02 v 14.558 z m 239.72,10e-4 h 26.294 V 26.504 H 248.309 V 20.58 h 14.452 V 13.486 H 248.309 V 7.971 h 17.958 V 0.896 H 239.973 Z M 74.752,0.896 62.228,33.579 h 8.609 l 2.181,-6.12 h 13.985 l 2.142,6.12 h 8.901 L 85.367,0.896 Z m 0.74,19.606 4.577,-12.804 4.499,12.804 z M 133.766,7.971 h 10.537 v 25.608 h 8.317 V 7.971 h 10.498 V 0.896 h -29.352 z m -12.114,13.018 c 0,4.249 -2.61,5.964 -7.07,5.964 -4.324,0 -7.148,-1.793 -7.148,-5.964 V 0.779 h -8.336 v 21.165 c 0,9.432 8.414,12.375 15.464,12.375 7.012,0 15.387,-2.943 15.387,-12.375 V 0.779 h -8.336 v 20.21 z M 335,0.896 h -9.914 l -11.88,13.272 V 0.896 h -8.337 l 0.039,32.683 h 8.298 V 21.165 l 11.257,12.414 H 335 L 319.808,17.442 Z m -114.621,0 h -15.27 v 32.683 h 15.27 c 11.706,0 14.939,-4.366 14.939,-16.585 0,-11.479 -3.097,-16.098 -14.939,-16.098 z m -0.331,25.608 h -6.622 V 7.971 h 6.622 c 5.22,0 6.778,1.422 6.778,9.023 0,6.938 -1.753,9.51 -6.778,9.51 z m 71.402,-12.16 -7.596,-0.858 c -4.441,-0.487 -5.551,-1.598 -5.551,-3.099 0,-1.676 2.279,-3.176 6.739,-3.176 4.285,0 6.525,1.598 6.934,3.995 h 8.161 C 299.727,4.287 293.943,0 285.49,0 c -10.05,0 -15.094,3.995 -15.094,11.07 0,5.749 3.35,8.458 10.283,9.198 l 7.713,0.819 c 2.941,0.331 4.285,1.461 4.285,2.942 0,1.676 -1.967,3.177 -6.7,3.177 -5.473,0 -7.674,-1.384 -8.044,-4.171 h -8.005 c 0.37,7.523 5.259,11.362 15.757,11.362 9.582,0 14.938,-4.209 14.938,-10.543 0,-5.515 -3.174,-8.828 -9.173,-9.51 z M 182.497,0 c -11.881,0 -18.035,7.308 -18.035,17.15 0,9.881 6.154,17.228 18.035,17.228 11.92,0 18.075,-7.347 18.075,-17.228 C 200.591,7.308 194.417,0 182.497,0 Z m 0,27.031 c -6.155,0 -9.543,-3.762 -9.543,-9.881 0,-6.003 3.388,-9.803 9.543,-9.803 6.213,0 9.544,3.8 9.544,9.803 0.019,6.139 -3.331,9.881 -9.544,9.881 z"/></svg></span></a>
</center></p>
</details>
<details class="info">
<summary><img alt="üìè" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4cf.svg" title=":straight_ruler:" /> Dimensions Tool</summary>
<p>This video from Autodesk demonstrates how to utilize the dimensions tool in Eagle, to include additional measurements:</p>
<p><center>
<div class="video">
<iframe src="https://www.youtube.com/embed/dZLNd1FtNB8" title="EAGLE Dimension Tool" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<img alt="QR code to play video" class="qr" src="../img/qr_code/dimension_tool.png" />
</center></p>
</details>
</details>
<h2 id="power">Power<a class="headerlink" href="#power" title="Permanent link"></a></h2>
<p>Users are provided with <a href="https://en.wikipedia.org/wiki/Through-hole_technology" title="Plated Through Holes">PTH</a> to connect their external power supply, I/O logic-level voltage, and the regulated 1.8V output. The TMC6300 motor driver has an input voltage range of <strong>2.0V</strong> to <strong>11.0V</strong>.</p>
<figure>
<p><a href="../img/hookup_guide/power_connections.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/power_connections.jpg" width="200" /></a></p>
<figcaption>
<p>The power connections on the TMC6300 motor driver.</p>
</figcaption>
</figure>
<p>Below, is a general summary of the circuitry on the board:</p>
<ul>
<li><strong><code>VIN</code></strong> - Power supply input<ul>
<li>Range: <strong>2 to 11V</strong></li>
</ul>
</li>
<li><strong><code>VIO</code></strong> - I/O supply voltage<ul>
<li>Range: <strong>1.8 to 5.25V</strong></li>
<li><code>NSTDBY</code> - IC goes to standby mode and resets when this pin is pulled to <code>GND</code></li>
</ul>
</li>
<li><strong><code>VCP</code></strong> - Charge pump voltage</li>
<li><strong><code>GND</code></strong> - The common ground or the 0V reference for the board</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details, users can reference the <a href="../board_files/schematic.pdf">schematic</a> and the <a href="../component_documentation/TMC6300.pdf">TMC6300 datasheets</a>.</p>
</div>
<details class="caution">
<summary>Motor Voltage</summary>
<p>Even though the input voltage range for the motor driver goes down to 2V, users will need to provide the minimum operating voltage for their motor. <em>Our <a href="https://cdn.sparkfun.com/assets/e/b/2/8/3/OT-EM3215_DC_Brushless_Gimbal_Motor_3_Phase_Datasheet.pdf">Gimbal Stabilizer Motor</a> has an operating voltage range of 6 - 8V.</em></p>
</details>
<h3 id="power-led">Power LED<a class="headerlink" href="#power-led" title="Permanent link"></a></h3>
<p>The red, power (<code>PWR</code>) LED will light up when a power supply is connected to the board. However, the LED can be disabled for low-power applications by cutting the <a href="#jumper">jumper</a>.</p>
<figure>
<p><a href="../img/hookup_guide/LED_pwr.jpg" title="Click to enlarge"><img alt="Power LED" src="../img/hookup_guide/LED_pwr.jpg" width="200" /></a></p>
<figcaption>
<p>The <code>PWR</code> status LED indicator for the TMC6300 motor driver.</p>
</figcaption>
</figure>
<h3 id="viostandby-pin"><code>VIO</code>/Standby Pin<a class="headerlink" href="#viostandby-pin" title="Permanent link"></a></h3>
<p>In it's default configuration, the <code>VIO</code> pin is used to enable the motor driver and set the logic level voltage (<strong>1.8</strong> to <strong>5.25V</strong>) for the I/O pins. However, the <code>VIO</code> pin also operates as a standby pin when it is pulled <code>LOW</code>. In standby, the TMC6300 resets and sits in standby mode.</p>
<figure>
<p><a href="../img/hookup_guide/pin-vio.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/pin-vio.jpg" width="200" /></a></p>
<figcaption>
<p><code>VIO</code> pin on the TMC6300 motor driver.</p>
</figcaption>
</figure>
<h3 id="vcp-pin"><code>VCP</code>&nbsp;Pin<a class="headerlink" href="#vcp-pin" title="Permanent link"></a></h3>
<p>The <code>VCP</code> pin is broken out for users to include an external charge pump capacitor. Adding an external capacitor would help stabilize the supply voltage, from the large voltage swings (dV/dt) of the motor driver's operation. A 1nF to 100nF capacitor rated at 10V, is recommended by the <a href="../component_documentation/TMC6300.pdf">datasheet</a>.</p>
<figure>
<p><a href="../img/hookup_guide/pin-vcp.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/pin-vcp.jpg" width="200" /></a></p>
<figcaption>
<p><code>VCP</code> pin on the TMC6300 motor driver.</p>
</figcaption>
</figure>
<h2 id="tmc6300"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56zm-16 104h192c17.7 0 32 14.3 32 32v192c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32m192 32H160v192h192z"/></svg></span>&nbsp;TMC6300<a class="headerlink" href="#tmc6300" title="Permanent link"></a></h2>
<p>The <a href="../component_documentation/TMC6300.pdf">TMC6300</a> from <a href="https://www.trinamic.com/">Trinamic Motion Control</a>, part of Analog Devices, is a low voltage, 3-Phase <a href="https://en.wikipedia.org/wiki/Brushless_DC_electric_motor" title="Brushless DC">BLDC</a>/<a href="https://en.wikipedia.org/wiki/Synchronous_motor#Permanent-magnet" title="Permanent-Magnet Synchronous Motor">PMSM</a> motor driver utilizing separate high-side and low-side control signals for its three half-bridges.</p>
<p><center></p>
<table class="pdf">
<tr>
<td>
<p>Features:</p>
<ul>
<li>VIN: 2.0V to 11.0V<ul>
<li>Operating current: 7mA</li>
<li>Standby current: 30nA</li>
</ul>
</li>
<li>VOUT: 1.8V</li>
<li>3 Half-Bridges<ul>
<li>3 High-side MOSFETs</li>
<li>3 Low-side MOSFETs</li>
</ul>
</li>
<li>I/O Supply Voltage Input</li>
<li>Diagnostic Output</li>
<li>Overtemperature Protection<ul>
<li>Shutdown Temperature: 150&deg;C</li>
<li>Typical Power Dissipation: 1W</li>
</ul>
</li>
<li>Short Protection</li>
</ul>
</td>
<td align="center">
<a href="../img/hookup_guide/TMC6300.jpg"><img src="../img/hookup_guide/TMC6300.jpg" width="200"></a><br>
<i>TMC6300 chip on the TMC6300 motor driver.</i>
</td>
</tr>
</table>
<p></center></p>
<div class="grid cards hide">
<ul>
<li>
<p>Features:</p>
<ul>
<li>VIN: 2.0V to 11.0V<ul>
<li>Operating current: 7mA</li>
<li>Standby current: 30nA</li>
</ul>
</li>
<li>VOUT: 1.8V</li>
<li>3 Half-Bridges<ul>
<li>3 High-side MOSFETs</li>
<li>3 Low-side MOSFETs</li>
</ul>
</li>
<li>I/O Supply Voltage Input</li>
<li>Diagnostic Output</li>
<li>Overtemperature Protection<ul>
<li>Shutdown Temperature: 150&deg;C</li>
<li>Typical Power Dissipation: 1W</li>
</ul>
</li>
<li>Short Protection</li>
</ul>
</li>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/TMC6300.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/TMC6300.jpg" width="200" /></a>
    <figcaption markdown>
    TMC6300 chip on the TMC6300 motor driver.
    </figcaption>
    </figure></p>
</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details, please refer to the <a href="../component_documentation/TMC6300.pdf">TMC6300 datasheet</a> and <a href="../component_documentation/AN_AP3428.pdf">application note</a>.</p>
</div>
<details class="warning">
<summary>Chip Protections</summary>
<p>The TMC6300 features the overtemperature and short protections:</p>
<ul>
<li>The overtemperature protection feature implements a two temperature thresholds; however, the datasheet warns users that this should only be relied on as an emergency percaution and may not prevent the destruction of the IC. This is due to several factors including that excess heat can generate quickly before the overtemperature sensor can react. Therefore, users should prevent this situation from occuring by design with methods such as adequate heat dissipation.</li>
<li>The short protection feature gaurds the motor commutation channels by monitoring the current flowing through each of the power stage MOSFETs. Once a short condition (short to <code>GND</code> or <code>VS</code>) is safely detected, all driver bridges become switched off, and the <code>DIAG</code> output becomes set. In order to restart the motor, the users must must disable and restart the TMC6300. As with the overtemperature protection, the datasheet warns users that this feature should only be relied on as an emergency percaution and may not prevent the destruction of the IC or detect all possible short events.</li>
</ul>
<p><em>By monitoring the current draw through the <code>SEN</code> pin, users can also implement an over current protection scheme in their software. This can also aid in preventing a trigger in the overtemperature protection and validating a short detection.</em></p>
</details>
<details class="tip">
<summary>Maximum Load Current</summary>
<p>When pushing the maximum load current of 2A, users should monitor the current draw through the <code>SEN</code> pin and add a heat sink to provide additional heat dissipation. This should precautions can help to avoid damaging the IC.</p>
</details>
<h3 id="motor-commutation">Motor Commutation<a class="headerlink" href="#motor-commutation" title="Permanent link"></a></h3>
<p>The TMC6300 relies on an electrical <a href="https://fab.cba.mit.edu/classes/865.21/topics/power_electronics/commutation/#bldc-commutation">commutation</a> sequence/signal to drive the motor phases to a <a href="https://en.wikipedia.org/wiki/Brushless_DC_electric_motor" title="brushless DC">BLDC</a> or <a href="https://en.wikipedia.org/wiki/Synchronous_motor#Permanent-magnet" title="permanent magnet synchronous motor">PMSM</a> motor. The commutation signals for these motors are trapezoidal for BLDC motors and sinusoidal for PMSM motors.</p>
<div class="grid cards">
<ul>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/commutation-trapezoidal.png" title="Click to enlarge"><img alt="" src="../img/hookup_guide/commutation-trapezoidal.png" /></a>
    <figcaption markdown>
    Trapezoidal motor commutation.
    </figcaption>
    </figure></p>
</li>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/commutation-sinusoidal.png" title="Click to enlarge"><img alt="" src="../img/hookup_guide/commutation-sinusoidal.png" /></a>
    <figcaption markdown>
    Sinusoidal motor commutation.
    </figcaption>
    </figure></p>
</li>
</ul>
</div>
<p><center>
<em>(Source: <a href="https://www.ti.com/lit/an/slvaes1a/slvaes1a.pdf">Brushless-DC Motor Driver Considerations and Selection Guide</a> application note)</em>
</center></p>
<p>For a trapezoidal signal, the high-side (HS) and low-side (LS) MOSFETs, can just be driven high or low. However, in order to approximate a sinusoidal signal, a progressively varying PWM signal must be provided from the microcontroller and all six signal should be in sync with each other.</p>
<figure>
<p><a href="../img/hookup_guide/pwm-sine_wave.png" title="Click to enlarge"><img alt="" src="../img/hookup_guide/pwm-sine_wave.png" width="300" /></a></p>
<figcaption>
<p>Sinusoidal PWM signal.<br>
(Source: <a href="https://www.ti.com/lit/ml/slyp711/slyp711.pdf">Demystifying BLDC motor commutation: Trap, Sine, &amp; FOC</a>)</p>
</figcaption>
</figure>
<details class="info">
<summary>PMSM vs BLDC Motor</summary>
<p>A BLDC motor (sometimes referred to as a BLDM) and a PMSM (sometimes referred to as an AC synchronus motor) for the most part will appear the same in their internal construction. The difference between these types of motors is in their stator windings. This means that their commutation (the electrical signals used to drive the motor) is different.</p>
<ul>
<li>In a BLDC motor, the windings are concentrated on salient poles, requiring a voltage waveform that's more trapeziodal than sinusoidal.</li>
<li>In a PMSM, the windings are distributed over several poles, requiring a voltage waveform that's more more sinusoidal.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Gimbal Motor</p>
<p>Based on measuring the output from one of the coils, our gimbal motor is a PMSM and would require a sinusoidal waveform to drive the motor. It should be noted that a trapezodial waveform can probably be used; however, users may notice effects such as cogging.</p>
</div>
</details>
<details class="tip">
<summary>Alternative Use Cases</summary>
<p>While this IC is intended to be used to drive 3-Phase BLDC/PMSM motors, users can easily adapt their hardware and software to work with other moters. For example, users could use two half-bridges to form an H-bridge and adapt their control software to drive a brushed, DC motor.</p>
</details>
<h2 id="io-pins">I/O Pins<a class="headerlink" href="#io-pins" title="Permanent link"></a></h2>
<p>There are several I/O pins for the TMC6300. Some of the pins are detailed in the <a href="#power">power section</a> above; the <code>VOUT</code> pin is ommitted because it isn't broken out.</p>
<h3 id="half-bridges">Half-Bridges<a class="headerlink" href="#half-bridges" title="Permanent link"></a></h3>
<p>The TMC6300 features high-side and low-side MOSFET pairs of the three available half-bridges which control the commutation of the three motor phases.</p>
<figure>
<p><a href="../img/hookup_guide/block_diagram-half_bridges.png" title="Click to enlarge"><img alt="" src="../img/hookup_guide/block_diagram-half_bridges.png" width="300" /></a></p>
<figcaption>
<p>6 PWM control of a 3-phase motor commutation.<br>
(Source: Modified from the <a href="https://www.infineon.com/dgdl/Infineon-Motor_power_tool_Block_Commutation_vs_FOC-ApplicationNotes-v01_00-EN.pdf?fileId=5546d4626eab8fbf016ed37fee474a65">Block commutation vs. FOC in power tool motor control</a> application note)</p>
</figcaption>
</figure>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Input</label><label for="__tabbed_1_2">Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>The electronic commutation sequence of these pins will depend on the motor that is connected. For most cases, users will provide a PWM signal to each of the pins. <em>These are active-high pins with logic levels controlled by the <code>VIO</code> pin.</em></p>
<p><figure markdown>
<a href="../img/hookup_guide/pin-half_bridge_inputs.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/pin-half_bridge_inputs.jpg" width="300" /></a>
<figcaption markdown>
The six control pins (<code>UL</code>/<code>UH</code>, <code>VL</code>/<code>VH</code>, and <code>WL</code>/<code>WH</code>) for the three half-bridges of the TMC6300 motor driver.
</figcaption>
</figure></p>
<details class="info">
<summary>Active High</summary>
<p>By pulling the pin high, the MOSFET will enable power to flow through that section of the half-bridge.</p>
</details>
<details class="tip">
<summary>Microcontroller Limitations</summary>
<p>Users will need to use pins capable of providing a PWM signal. In addition, for the recommended <a href="https://github.com/simplefoc/Arduino-FOC">Simple FOC Arduino library</a>, users will also need to consider the <a href="https://docs.simplefoc.com/microcontrollers">supported microcontroller</a> as well as the configuration for the <a href="https://docs.simplefoc.com/bldcdriver6pwm#step-1-hardware-setup">6PWM mode</a>.</p>
</details>
</div>
<div class="tabbed-block">
<p>With the electronic commutation sequence provided to the half-bridges, the output motor phases will drive a connected motor.</p>
<p><figure markdown>
<a href="../img/hookup_guide/pin-half_bridge_outputs.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/pin-half_bridge_outputs.jpg" width="300" /></a>
<figcaption markdown>
The three motor phase outputs (<code>U</code>/<code>V</code>/<code>W</code>) from the TMC6300, used to drive a motor.
</figcaption>
</figure></p>
<details class="info">
<summary>Wiring Sequence</summary>
<p>For a 3-phase brushless motor, the connection sequence of the wires to a BLDC motor doesn't necessarily matter; the direction that the motor spins can be controlled through the software. However, for reference, switching two of the output channels to the motor will automatically reverse the direction that the motor was spinning.</p>
<ul>
<li>If users swap the <code>U</code> and <code>V</code> connections, but leave the <code>W</code> connection alone, the motor will now spin in the opposite direction of the original configuration.</li>
</ul>
</details>
</div>
</div>
</div>
<h3 id="diagnostic-pin">Diagnostic Pin<a class="headerlink" href="#diagnostic-pin" title="Permanent link"></a></h3>
<p>The diagnostic pin is triggered based on different faults <em>(i.e. shorts and overtemperature)</em> detected by the IC. By default, the status will be indicated by the, green diagnostic, <code>D</code> LED and will remail <code>LOW</code> until triggered. Once triggered, users will need to disable and reset the TMC6300 or power cycle the board.</p>
<figure>
<p><a href="../img/hookup_guide/pin-diag.jpg" title="Click to enlarge"><img alt="Diagnostic Pin" src="../img/hookup_guide/pin-diag.jpg" width="200" /></a></p>
<figcaption>
<p>The <code>DIAG</code> pin on the TMC6300 motor driver.</p>
</figcaption>
</figure>
<p>Users can also monitor the <code>DIAG</code> pin, so their microcontroller knows when to reset the TMC6300 to clear the fault.</p>
<h3 id="current-sense-pin">Current Sense Pin<a class="headerlink" href="#current-sense-pin" title="Permanent link"></a></h3>
<p>The current sense pin is the foot point of the <code>U</code> and <code>V</code> half-bridges, with a 0.12&ohm; resistor attached. Users can measure the voltage across the <code>SENSE</code> and <code>GND</code> pins to determine the current flowing to the motor; however, it is recommended that an op-amp be attached to amplify the signal.</p>
<figure>
<p><a href="../img/hookup_guide/pin-sen.jpg" title="Click to enlarge"><img alt="Current Sense Pin" src="../img/hookup_guide/pin-sen.jpg" width="200" /></a></p>
<figcaption>
<p>The <code>SEN</code> pin on the TMC6300 motor driver.</p>
</figcaption>
</figure>
<h2 id="leds">LEDs<a class="headerlink" href="#leds" title="Permanent link"></a></h2>
<p>There are three status indicator LEDs on the TMC6300 motor driver:</p>
<ul>
<li><code>V</code> - Power <em>(Red)</em><ul>
<li>Turns on once power is supplies to the <code>VIN</code> pin</li>
</ul>
</li>
<li><code>D</code> - Diagnostics <em>(Green)</em><ul>
<li>Turns on to indicate a fault <em>(see <a href="#diagnostic-pin">diagnostic pin</a> section)</em></li>
</ul>
</li>
<li><code>S</code> - Standby <em>(Blue)</em><ul>
<li>Turns on when the motor driver is enabled</li>
<li>Turns off, when the IC has been reset and the motor driver is in standby mode</li>
</ul>
</li>
</ul>
<figure>
<p><a href="../img/hookup_guide/LEDs.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/LEDs.jpg" width="200" /></a></p>
<figcaption>
<p>The status indicator LEDs on the TMC6300 motor driver.</p>
</figcaption>
</figure>
<h2 id="heat-sink-pad">Heat Sink Pad<a class="headerlink" href="#heat-sink-pad" title="Permanent link"></a></h2>
<p>A 0.13" x 0.14" platted copper pad is provided on the top of the board, where users can add a heat sink to dissipate excess heat generated by the TMC6300. The pad can accommodate the <a href="https://www.sparkfun.com/products/11510">small heatsink</a> in our catalog.</p>
<details class="info">
<summary>Thermal Shutdown Temperature</summary>
<p>The AP329A has a 160&deg;C (320&deg;F) thermal shutdown temperature. The TMC6300 will restart automatically when the junction temperature decreases to +130¬∞C.</p>
</details>
<details class="warning">
<summary>Copper Heat Sink</summary>
<p>Users may be tempted to use our <a href="https://www.sparkfun.com/products/18704">copper heatsink</a> on their board. However, we highly advise against using the copper heatsink because it barely fits and will likely cause a short across one of the pins.</p>
<p><figure markdown>
<a href="../img/hookup_guide/assembly-heat_sink_bad.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/assembly-heat_sink_bad.jpg" width="200" /></a>
<figcaption markdown>
Copper heatsink not fitting on the TMC6300 motor driver.
</figcaption>
</figure></p>
</details>
<figure>
<p><a href="../img/hookup_guide/heat_sink.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/heat_sink.jpg" width="200" /></a></p>
<figcaption>
<p>Heat sink pad on the top of the TMC6300 motor driver.</p>
</figcaption>
</figure>
<h2 id="jumpers">Jumpers<a class="headerlink" href="#jumpers" title="Permanent link"></a></h2>
<details class="note">
<summary>Never modified a jumper before?</summary>
<p>Check out our <a href="https://learn.sparkfun.com/tutorials/664">Jumper Pads and PCB Traces tutorial</a> for a quick introduction!
<p align="center">
    <a href="https://learn.sparkfun.com/tutorials/664">How to Work with Jumper Pads and PCB Traces<br>
    <img src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/6/4/PCB_TraceCutLumenati.jpg" alt="Tutorial's thumbnail"></a>
</p></p>
</details>
<p>There are three jumpers on the back of the board that can be used to easily modify a hardware connections on the board.</p>
<ul>
<li><strong>V</strong> - This jumper can be used to remove power from the red, power LED.</li>
<li><strong>S</strong> - This jumper can be used to remove power from the blue, standby LED.</li>
<li><strong>D</strong> - This jumper can be used to remove power from the green, diagnostic LED.</li>
</ul>
<figure>
<p><a href="../img/hookup_guide/jumpers.jpg" title="Click to enlarge"><img alt="Jumpers" src="../img/hookup_guide/jumpers.jpg" width="200" /></a></p>
<figcaption>
<p>The LED jumpers on the back of the TMC6300 motor driver.</p>
</figcaption>
</figure>
<h1 id="hardware-assembly">Hardware Assembly<a class="headerlink" href="#hardware-assembly" title="Permanent link"></a></h1>
<h2 id="tmc6300-motor-driver">TMC6300 Motor Driver<a class="headerlink" href="#tmc6300-motor-driver" title="Permanent link"></a></h2>
<h3 id="headers"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.86 4.03 2.03 6.86l3.18 3.18v2.83l1.42 1.41 5.65-5.65-1.41-1.42H8.04zM17 6v1.5c1 0 1.85.83 1.85 1.85S18 11.2 17 11.2v1.5c2.24 0 4 1.83 4 4.07V21h1.5v-4.24c0-2.22-1.28-4.14-3.15-5.03.62-.61 1-1.45 1-2.38C20.35 7.5 18.85 6 17 6m-5.07 5.1L9.1 13.93l4.95 4.95.71-.71 2.12 2.12L19 21l-.71-2.12-2.12-2.12.71-.71z"/></svg></span>&nbsp;Headers<a class="headerlink" href="#headers" title="Permanent link"></a></h3>
<details class="note">
<summary>New to soldering?</summary>
<p>If you have never soldered before or need a quick refresher, check out our <a href="https://learn.sparkfun.com/tutorials/how-to-solder-through-hole-soldering">How to Solder: Through-Hole Soldering</a> guide.
<p align="center">
    <a href="https://learn.sparkfun.com/tutorials/5">How to Solder: Through-Hole Soldering<br>
    <img src="https://cdn.sparkfun.com/c/264-148/assets/e/3/9/9/4/51d9fbe1ce395f7a2a000000.jpg" alt="Tutorial's thumbnail"></a>
</p></p>
</details>
<p>The pins on the SparkFun TMC6300 motor driver are broken out to 0.1"-spaced pins on the outer edges of the board. When selecting headers, be sure you are aware of the functionality and board orientation required.</p>
<figure>
<p><a href="../img/hookup_guide/assembly-header.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/assembly-header.jpg" width="200" /></a></p>
<figcaption>
<p>Soldering headers to the TMC6300 motor driver.</p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please be aware that the side of the board with the silkscreen labeld for the pins and the heat sink pad is, technically the top side of the board when in use.</p>
<div class="grid cards" markdown>
<ul>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/top.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/top.jpg" width="200" /></a>
    <figcaption markdown>
    Top side of the TMC6300 motor driver.
    </figcaption>
    </figure></p>
</li>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/bottom.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/bottom.jpg" width="200" /></a>
    <figcaption markdown>
    Bottom side of the TMC6300 motor driver.
    </figcaption>
    </figure></p>
</li>
</ul>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Staggered PTH Pins</p>
<p>The pins on the board may appear to be offset or crooked; this is by design, we stagger the holes along a specific center alignment. This reduces the geometric tolerance between the holes and header pins along a single axis, which helps to hold the header in place and keeps the pins more orthogonal to the board when soldering.</p>
</div>
<h3 id="heat-sink">Heat Sink<a class="headerlink" href="#heat-sink" title="Permanent link"></a></h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>With larger heat sinks, we recommend a test fit and attaching it last to avoid conflicts with other parts of the board. For example, the heat sink could block the PTH pins/slots or access to the jumper pad.</p>
<div class="admonition warning">
<p class="admonition-title">Copper Heat Sink</p>
<p>Users may be tempted to use our <a href="https://www.sparkfun.com/products/18704">copper heatsink</a> on their board. However, we highly advise against using the copper heat sink because it barely fits and will likely cause a short across one of the pins.</p>
<div class="grid cards hide" markdown>
<ul>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/assembly-heat_sink_sizes.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/assembly-heat_sink_sizes.jpg" /></a>
    <figcaption markdown>
    Different <a href="https://www.sparkfun.com/categories/tags/heatsink">heat sinks</a> next to the TMC6300 motor driver.
    </figcaption>
    </figure></p>
</li>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/assembly-heat_sink_bad.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/assembly-heat_sink_bad.jpg" width="200" /></a>
    <figcaption markdown>
    Copper heat sink not fitting on the TMC6300 motor driver.
    </figcaption>
    </figure></p>
</li>
</ul>
</div>
<p><center>
<table class="pdf">
    <tr>
        <td align="center">
            <a href="../img/hookup_guide/assembly-heat_sink_sizes.jpg"><img src="../img/hookup_guide/assembly-heat_sink_sizes.jpg" width="200"></a><br>
            <i>Different <a href="https://www.sparkfun.com/categories/tags/heatsink">heat sinks</a> next to the TMC6300 motor driver.</i>
        </td>
        <td align="center">
            <a href="../img/hookup_guide/assembly-heat_sink_bad.jpg"><img src="../img/hookup_guide/assembly-heat_sink_bad.jpg" width="200"></a><br>
            <i>Copper heat sink not fitting on the TMC6300 motor driver.</i>
        </td>
    </tr>
</table>
</center></p>
</div>
</div>
<p>To attach a <a href="https://www.sparkfun.com/products/11510">heat sink</a> to the board, users will also need a piece of <a href="https://www.sparkfun.com/products/17054">thermal tape</a>. We recommend the following procedure:</p>
<ol>
<li>
<p>Cut out a piece of <a href="https://www.sparkfun.com/products/17054">thermal tape</a> to fit the bottom of the <a href="https://www.sparkfun.com/products/11510">heat sink</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Covering the entire bottom of the heat sink can insulate the electrical contacts on the board from shorting.</p>
</div>
<ul>
<li>For a perfect fit, users can place the heat sink over the tape and trace the outline to cut with scissors.</li>
<li>For a perfect fit, users can also place the heat sink over the tape and cut the outline with a <a href="https://www.sparkfun.com/products/9200">hobby knife</a>.</li>
</ul>
<p><figure markdown>
<a href="../img/hookup_guide/assembly-cut_thermal_tape.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/assembly-cut_thermal_tape.jpg" width="200" /></a>
<figcaption markdown>
Cutting the <a href="https://www.sparkfun.com/products/17054">thermal tape</a> to fit the <a href="https://www.sparkfun.com/products/11510">heat sink</a>.
</figcaption>
</figure></p>
</li>
<li>
<p>Place the piece of thermal tape on the bottom of the heat sink.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We recommend peeling off just one side of the backing sheet or <a href="https://en.wikipedia.org/wiki/Release_liner">release liner</a> to place the thermal tape on the heat sink. Users can then peel the other side off when they are ready to place the heat sink on their board.</p>
</div>
</li>
<li>
<p>Attach the heat sink to the board.</p>
<ul>
<li>Make sure to make any jumper modifications and/or solder any connections before placing the heat sink on the board.</li>
<li>Make sure to avoid any electrical contact with the sides of the heat sink.</li>
</ul>
<p><figure markdown>
<a href="../img/hookup_guide/assembly-heat_sink.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/assembly-heat_sink.jpg" width="200" /></a>
<figcaption markdown>
<a href="https://www.sparkfun.com/products/11510">Heat sink</a> attached to the TMC6300 motor driver.
</figcaption>
</figure></p>
</li>
</ol>
<h2 id="bldc-gimbal-motor">BLDC Gimbal Motor<a class="headerlink" href="#bldc-gimbal-motor" title="Permanent link"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Advanced Skills Required</p>
<p>To connect the gimbal motor to the TMC6300 motor driver board, some advanced soldering and wire stripping skills are necessary. The wire leads from the motor are only about 2" long, which is not a lot to work with. Users may only have two attempts at stripping the wires before they run out the available wire length.</p>
</div>
<details class="note">
<summary>New to soldering?</summary>
<p>If you have never soldered before or need a quick refresher, check out our <a href="https://learn.sparkfun.com/tutorials/how-to-solder-through-hole-soldering">How to Solder: Through-Hole Soldering</a> guide.
<p align="center">
    <a href="https://learn.sparkfun.com/tutorials/5">How to Solder: Through-Hole Soldering<br>
    <img src="https://cdn.sparkfun.com/c/264-148/assets/e/3/9/9/4/51d9fbe1ce395f7a2a000000.jpg" alt="Tutorial's thumbnail"></a>
</p></p>
</details>
<p>To connect the gimbal motor to the TMC6300 motor driver, users will need to expose the wiring. First, remove the JST connector and make sure to cut as close to the plastic housing as possible.</p>
<figure>
<p><a href="../img/hookup_guide/motor-remove_connector.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/motor-remove_connector.jpg" width="200" /></a></p>
<figcaption>
<p>Cut off the plastic JST connector on the motor's wire leads.</p>
</figcaption>
</figure>
<details class="info">
<summary>Alternative Connections</summary>
<p>If users are utilize the alligator or IC hook pigtails, they may be able to crack the plastic housing of the connector to expose the crimped wire terminals.</p>
</details>
<p>Next, with as much care as possible, strip off some of the electrical insulation of each of the leads. On our <a href="https://www.sparkfun.com/products/15220">wire strippers</a>, the 26AWG notch worked the best.</p>
<figure>
<p><a href="../img/hookup_guide/motor-strip_wire.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/motor-strip_wire.jpg" width="200" /></a></p>
<figcaption>
<p>Strip off some of the insulation from the motor's wire leads.</p>
</figcaption>
</figure>
<p>The last step is to twist and tin the wires, so that they can be inserted into some jumper wires. Make sure to keep the ends straight and avoid adding to much solder, so that the wire ends can still fit into the female jumper wire terminals.</p>
<p><center></p>
<table class="pdf">
    <tr>
        <td align="center">
            <a href="../img/hookup_guide/motor-tin_wire.jpg"><img src="../img/hookup_guide/motor-tin_wire.jpg" width="200"></a><br>
            <i>Twist and tin the exposed wire leads, so that they can be inserted into the female end of a jumper wire.</i>
        </td>
        <td align="center">
            <a href="../img/hookup_guide/motor-connect_jumper_wire.jpg"><img src="../img/hookup_guide/motor-connect_jumper_wire.jpg" width="200"></a><br>
            <i>The leads should be straight and clear of bulges fit the into female terminals.</i>
        </td>
    <tr>
</table>
<p></center></p>
<div class="grid cards hide">
<ul>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/motor-tin_wire.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/motor-tin_wire.jpg" /></a>
    <figcaption markdown>
    Twist and tin the exposed wire leads, so that they can be inserted into the femal end of a jumper wire.
    </figcaption>
    </figure></p>
</li>
<li>
<p><figure markdown>
    <a href="../img/hookup_guide/motor-connect_jumper_wire.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/motor-connect_jumper_wire.jpg" /></a>
    <figcaption markdown>
    The leads should be straight and clear of bulges fit the female terminals of the jumper wire.
    </figcaption>
    </figure></p>
</li>
</ul>
</div>
<h2 id="assembly-for-examples">Assembly for Examples<a class="headerlink" href="#assembly-for-examples" title="Permanent link"></a></h2>
<p>The following instructions are for wiring up the RedBoard Plus, TMC6300 motor driver, and motor for the examples provided in this tutorial. </p>
<h3 id="redboard-plus-to-tmc6300">RedBoard Plus to TMC6300<a class="headerlink" href="#redboard-plus-to-tmc6300" title="Permanent link"></a></h3>
<p>For ease of use, connect the TMC6300 motor driver with headers attached to the center of breadboard. The pin layout should perfectly align, so that users will have three breadboard pins available on each side of the TMC6300 breakout board. Then, following the table below, connect the pins from the RedBoard Plus to breadboard pins associated with the motor driver.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">RedBoard</th>
<th style="text-align: center;"><code>3</code></th>
<th style="text-align: center;"><code>5</code></th>
<th style="text-align: center;"><code>6</code></th>
<th style="text-align: center;"><code>9</code></th>
<th style="text-align: center;"><code>10</code></th>
<th style="text-align: center;"><code>11</code></th>
<th style="text-align: center;"><code>12</code></th>
<th style="text-align: center;"><code>GND</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Motor Driver</td>
<td style="text-align: center;"><code>UL</code></td>
<td style="text-align: center;"><code>WL</code></td>
<td style="text-align: center;"><code>WH</code></td>
<td style="text-align: center;"><code>VL</code></td>
<td style="text-align: center;"><code>VH</code></td>
<td style="text-align: center;"><code>UH</code></td>
<td style="text-align: center;"><code>VIO</code></td>
<td style="text-align: center;"><code>GND</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<figure>
<p><a href="../img/hookup_guide/wiring-to_redboard.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/wiring-to_redboard.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<div class="admonition info">
<p class="admonition-title">Timer Pins</p>
<p>As mentioned in the <a href="https://docs.simplefoc.com/bldcdriver6pwm#arduino-uno-support">Simple FOC library documentation</a>, </p>
<p><blockquote markdown>
</blockquote></p>
<p><blockquote class="info"> üì¢ Here is a quick guide to choosing appropriate PWM pins for different MCU architectures <a href="choosing_pwm_pins">see in docs</a>.</blockquote></p>
<h3 id="arduino-uno-support">Arduino UNO support<a class="headerlink" href="#arduino-uno-support" title="Permanent link"></a></h3>
<p>Arduino UNO and all the atmega328 based boards have only 6 PWM pins and in order to use the <code>BLDCDrievr6PWM</code> we need to use all of them. Those are <code>3</code>,<code>5</code>,<code>6</code>,<code>9</code>,<code>10</code> and <code>11</code>. 
Furthermore in order for the algorithm to work well we need to use the PWM pins that belong to the same timer for each high/low side pair of each phase.
So Atmega328 pins belonging to the timers are:</p>
<p><code>TIM0</code> |<code>TIM1</code> |<code>TIM2</code> 
</blockquote></p>
</div>
<h3 id="motor-to-tmc6300">Motor to TMC6300<a class="headerlink" href="#motor-to-tmc6300" title="Permanent link"></a></h3>
<p>Connecting a motor to the TMC6300 motor driver straight forward. Users, just need to connect the half-bridge drive channels with the ends of the motor's stator coils.</p>
<ul>
<li><a href="https://fab.cba.mit.edu/classes/865.21/topics/power_electronics/architectures/#h-bridges">Utilizing two half-bridges to drive a brushed DC motor with a full H-bridge</a></li>
<li><a href="https://fab.cba.mit.edu/classes/865.21/topics/power_electronics/architectures/#triple-half-bridges">Utilizing three half-bridges to drive a brushless DC motor</a></li>
</ul>
<h4 id="bldc-gimbal-motor_1">BLDC Gimbal Motor<a class="headerlink" href="#bldc-gimbal-motor_1" title="Permanent link"></a></h4>
<p>Connecting a 3-phase, <a href="https://en.wikipedia.org/wiki/Brushless_DC_electric_motor" title="brushless DC">BLDC</a> motor to the motor driver is relatively simple as the sequence of the wires connection doesn't matter. Using jumper wires, connect the <a href="../component_assembly/#bldc-gimbal-motor">prepared ends of the gimbal stabilizer motor</a> to the <a href="../hardware_overview/#__tabbed_1_2"><code>U</code>, <code>V</code>, and <code>W</code> pins of the TMC6300 breakout board</a>.</p>
<figure>
<p><a href="../img/hookup_guide/motor-connect_jumper_wire.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/motor-connect_jumper_wire.jpg" width="200" /></a></p>
<figcaption>
<p>A prepared end of the gimbal motor being inserted into the female terminals of a jumper wire.</p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Users may want to prop up the base of the gimbal motor, as the magnetic end of the motor shaft protudes below its base plate. Users can see a demonstration in the video below:</p>
<p><center>
<a class="md-button md-button--primary" href="https://youtu.be/Q76dMggUH1M?t=233"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10 15 5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73"/></svg></span> Video with Gimbal Motor </a>
</center></p>
</div>
<details class="info">
<summary>Reversing the Rotation of the Motor</summary>
<p>For a 3-phase brushless motor, the connection sequence of the wires to a BLDC motor doesn't necessarily matter; the direction that the motor spins can be controlled through the software. However, for reference, switching two of the output channels to the motor will automatically reverse the direction that the motor was spinning.</p>
<ul>
<li>If users swap just the <code>U</code> and <code>V</code> connections, leaving the <code>W</code> connection alone, the motor will now spin in the opposite direction of the original configuration.</li>
</ul>
</details>
<h4 id="dc-hobby-motor">DC Hobby Motor<a class="headerlink" href="#dc-hobby-motor" title="Permanent link"></a></h4>
<p>If this was a H-bridge motor driver, the connections to the motor wouldn't matter. However, as there are three half-bridges, users will need to note which half-bridges the DC motor is connected to. These connections will dictate how the motor is driven by the software. For the example, connect the motor to the <code>V</code> and <code>W</code> output channels of the TMC6300 motor driver.</p>
<details class="info">
<summary>Reversing the Rotation of the Motor</summary>
<p>For a  single phase DC motor, the direction that the motor spins can be controlled through the software. However, for reference, switching the polarity of the motor's wires will also reverse the direction that the motor was spinning.</p>
</details>
<h3 id="powering-the-tmc6300">Powering the TMC6300<a class="headerlink" href="#powering-the-tmc6300" title="Permanent link"></a></h3>
<p>Enough power should be provided to the TMC6300 to drive the motor connected to it. Therefore, the drive current and voltage range of the motor should be taken into consideration. Additionally, users should monitor the drive current to prevent overheating of the TMC6300 motor driver.</p>
<p>Ideally, if users have access to a variable power supply, it would be the most convenient solution for adjusting the voltage and source current parameters. Other power supply alternatives include a 6V (4xAA) battery pack or dual-cell LiPo battery. However, if users are unable to find a suitable power source, we have found that the 5V power output from the RedBoard Plus is sufficient to drive the gimbal motor, under a no load condition at low speeds.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">RedBoard</th>
<th style="text-align: center;"><code>5V</code></th>
<th style="text-align: center;"><code>GND</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Motor Driver</td>
<td style="text-align: center;"><code>VIN</code></td>
<td style="text-align: center;"><code>GND</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<figure>
<p><a href="../img/hookup_guide/wiring-redboard_power.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/wiring-redboard_power.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<details class="tip">
<summary>Current Monitoring</summary>
<p>For the examples in this tutorial, the motor will be driven with a no-load condition and the motor drive current shouldn't need to be monitored. <em>(An exception would be when the motor is hindered from spinning, in which case the torque and drive current will spike.)</em></p>
</details>
<h1 id="software-overview">Software Overview<a class="headerlink" href="#software-overview" title="Permanent link"></a></h1>
<h2 id="arduino-ide">Arduino IDE<a class="headerlink" href="#arduino-ide" title="Permanent link"></a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For first-time users, who have never programmed before and are looking to use the Arduino IDE, we recommend beginning with the <a href="https://www.sparkfun.com/products/15631">SparkFun Inventor's Kit (SIK)</a>, which is designed to help users get started programming with the Arduino IDE.</p>
</div>
<p>Most users may already be familiar with the Arduino IDE and its use. However, for those of you who have never heard the name <em>Arduino</em> before, feel free to check out the <a href="https://www.arduino.cc/en/Guide/HomePage">Arduino website</a>. To get started with using the Arduino IDE, check out our tutorials below:</p>
<table class="pdf" style="border-style:none" align="center">
    <tr>
        <td align="center">
            <a class="thumb" href="https://learn.sparkfun.com/tutorials/50">
                <img src="https://cdn.sparkfun.com/c/264-148/assets/3/b/6/e/b/512e66bece395f492b000000.jpg" alt="What is an Arduino?">
                <h3 class="title">What is an Arduino?</h3>
            </a>
        </td>
        <td align="center">
            <a class="thumb" href="https://learn.sparkfun.com/tutorials/61">
                <img src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/1/arduinoThumb.jpg" alt="Installing Arduino IDE">
                <h3 class="title">Installing Arduino IDE</h3>
            </a>
        </td>
        <td align="center">
            <a class="thumb" href="https://learn.sparkfun.com/tutorials/15">
                <img src="https://cdn.sparkfun.com/c/264-148/assets/b/e/4/b/2/50f04b99ce395fd95e000001.jpg" alt="Installing an Arduino Library">
                <h3 class="title">Installing an Arduino Library</h3>
            </a>
        </td>
        <td align="center">
            <a class="thumb" href="https://learn.sparkfun.com/tutorials/1265">
                <img src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/2/6/5/sparkfun_boards.PNG" alt="Installing Board Definitions in the Arduino IDE">
                <h3 class="title">Installing Board Definitions in the Arduino IDE</h3>
            </a>
        </td>
    </tr>
</table>

<div align="center" class="grid cards">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/50"><figure markdown>
    <img alt="What is an Arduino?" src="https://cdn.sparkfun.com/c/264-148/assets/3/b/6/e/b/512e66bece395f492b000000.jpg" />
    </figure></p>
<hr />
<p><strong>What is an Arduino?</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/61"><figure markdown>
    <img alt="Installing the Arduino IDE" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/6/1/arduinoThumb.jpg" />
    </figure></p>
<hr />
<p><strong>Installing the Arduino IDE</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/15"><figure markdown>
    <img alt="Installing an Arduino Library" src="https://cdn.sparkfun.com/c/264-148/assets/b/e/4/b/2/50f04b99ce395fd95e000001.jpg" />
    </figure></p>
<hr />
<p><strong>Installing an Arduino Library</strong></a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/1265"><figure markdown>
    <img alt="Installing Board Definitions in the Arduino IDE" src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/1/2/6/5/sparkfun_boards.PNG" />
    </figure></p>
<hr />
<p><strong>Installing Board Definitions in the Arduino IDE</strong></a></p>
</li>
</ul>
</div>
<details class="tip">
<summary>Need help setting up the RedBoard Plus?</summary>
<h3 id="redboard-plus">RedBoard Plus<a class="headerlink" href="#redboard-plus" title="Permanent link"></a></h3>
<p>The following instructions should help users get started with the RedBoard Plus. For more information about the board, please check out our hookup guide below:</p>
<p><figure markdown>
<a href="https://learn.sparkfun.com/tutorials/1758"><img alt="RedBoard Plus Hookup Guide" src="https://cdn.sparkfun.com/c/500-282/assets/learn_tutorials/1/7/5/8/18158-SparkFun_RedBoard_Plus-01.jpg" /></a>
<figcaption markdown><a href="https://learn.sparkfun.com/tutorials/1758"><strong>RedBoard Plus Hookup Guide</strong></a></figcaption>
</figure></p>
<h4 id="ch340-driver">CH340 Driver<a class="headerlink" href="#ch340-driver" title="Permanent link"></a></h4>
<p>Users will need to install the appropriate driver for their computer to recognize the serial-to-UART chip on their board/adapter. Most of the latest operating systems will recognize the CH340C chip on the board and automatically install the required driver.</p>
<p><em>To manually install the CH340 driver on their computer, users can download it from the <a href="http://www.wch-ic.com/products/CH340.html?">WCH website</a>. For more information, check out our <a href="https://www.sparkfun.com/ch340">How to Install CH340 Drivers Tutorial</a>.</em></p>
<p><figure markdown>
<a href="https://learn.sparkfun.com/tutorials/908"><img alt="How to Install CH340 Drivers" src="https://cdn.sparkfun.com/c/500-282/assets/learn_tutorials/9/0/8/USB-to-serial_converter_CH340-closeup.jpg" /></a>
<figcaption markdown><a href="https://learn.sparkfun.com/tutorials/908"><strong>How to Install CH340 Drivers</strong></a></figcaption>
</figure></p>
<h4 id="arduino-ide_1">Arduino IDE<a class="headerlink" href="#arduino-ide_1" title="Permanent link"></a></h4>
<p>When selecting a board to program in the Arduino IDE, users should select the <strong>Arduino Uno</strong> from the <strong>Tools</strong> drop-down menu <em>(_i.e. <strong>Tools</strong> &gt; <strong>Board</strong> &gt; <strong>Arduino AVR Boards</strong> &gt; <strong>Arduino Uno</strong>)</em>.</p>
<p><figure markdown>
<a href="../img/hookup_guide/board_selection.png"><img alt="" src="../img/hookup_guide/board_selection.png" title="Click to enlarge" width="400" /></a>
<figcaption markdown>Select the <strong>Arduino Uno</strong> from the Tools drop-down menu in the Arduino IDE.</figcaption>
</figure></p>
<details class="info">
<summary>Arduino IDE 2.x.x - <em>Alternative Method</em></summary>
<p>In the newest version of the Arduino IDE 2.<code>x</code>.<code>x</code>, users can also select their board (<em>green</em>) and port (<em>blue</em>) from the <code>Select Board &amp; Port</code> dropdown menu (<em>yellow</em>).</p>
<p><figure markdown>
<a href="../img/hookup_guide/board_selection2.png"><img alt="" src="../img/hookup_guide/board_selection2.png" title="Click to enlarge" width="400" /></a>
<figcaption markdown>Selecting the <strong>Arduino Uno</strong> and <strong>COM5</strong> port from the <strong>Select Board &amp; Port</strong> drop-down menu in the Arduino IDE (v2.0.3).</figcaption>
</figure></p>
</details>
</details>
<h2 id="simplefoclibrary">SimpleFOClibrary<a class="headerlink" href="#simplefoclibrary" title="Permanent link"></a></h2>
<p>The <a href="https://github.com/simplefoc/Arduino-FOC">Simple Field Oriented Control Library</a> can be installed from the library manager in the Arduino IDE.</p>
<figure>
<p><a href="../img/hookup_guide/arduino_library.png"><img alt="" src="../img/hookup_guide/arduino_library.png" title="Click to enlarge" width="400" /></a></p>
<figcaption>
<p>SimpleFOClibrary in the library manager of the Arduino IDE.</p>
</figcaption>
</figure>
<details class="tip">
<summary>Arduino IDE <em>(v1.x.x)</em></summary>
<p>In the Arduino IDE v1.x.x, the library manager will have the following appearance for the SimpleFOC library:</p>
<p><figure markdown>
<a href="../img/hookup_guide/arduino_library-legacy.png"><img alt="" src="../img/hookup_guide/arduino_library-legacy.png" title="Click to enlarge" width="400" /></a>
<figcaption markdown>SimpleFOClibrary in the library manager of the Arduino IDE (v1.x.x).</figcaption>
</figure></p>
</details>
<p>This library utilizes a motor control scheme called field oriented control (FOC), which can utilize a feedback control loop to drive a motor with a higher power efficiency and precision characteristics, like evenly distributed torque control.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details about the library, check out the <a href="https://docs.simplefoc.com/">online documentation</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Supported Hardware</p>
<p>For a detailed and up-to-date list of the hardware supported by this library, check out the <a href="https://docs.simplefoc.com/supported_hardware">library's documentation</a>. The following are excerpts taken from the library's documentation page:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Microcontrollers</label><label for="__tabbed_2_2">Motor Drivers</label><label for="__tabbed_2_3">Motors</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<h1 id="supported-microcontrollers">Supported microcontrollers<a class="headerlink" href="#supported-microcontrollers" title="Permanent link"></a></h1>
<table>
<thead>
<tr>
<th>MCU</th>
<th>2 PWM mode</th>
<th>4 PWM mode</th>
<th>3 PWM mode</th>
<th>6 PWM mode</th>
<th>pwm frequency config</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arduino (8-bit)</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è (either 4kHz or 32kHz)</td>
</tr>
<tr>
<td>Arduino DUE</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚ùå</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>stm32</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>esp32 MCPWM</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>esp32 LEDC</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>esp8266</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚ùå</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>samd21/51</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>teensy</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>Raspberry Pi Pico</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>Portenta H7</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚ùå</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>nRF52</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
<tr>
<td>Renesas (UNO R4 Minima)</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
<td>‚úîÔ∏è</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details, please refer to the <a href="https://docs.simplefoc.com/microcontrollers">SimpleFOC Arduino library documentation</a>.</p>
</div>
</div>
<div class="tabbed-block">
<p>Arduino <span class="simple">Simple<span class="foc">FOC</span>library</span> has a goal to support as many BLDC and stepper motor drivers as possible. Till this moment there are two kinds of motor drivers supported by this library:</p>
<ul>
<li><a href="bldc_drivers">BLDC motor driver <i class="fa fa-external-link"></i></a><ul>
<li><strong>3 PWM signals</strong> ( 3 phase )</li>
<li><strong>6 PWM signals</strong> ( 3 phase )</li>
</ul>
</li>
</ul>
<details class="warning">
<summary>Current Limitations</summary>
<p>Before running any BLDC motor with the <span class="simple">Simple<span class="foc">FOC</span>library</span> please make sure your hardware can handle the currents your motor requires. </p>
<p>The simplest way to do it is by checking the motor phase resistance <code>R</code>. Either check the datasheet of your motor and search for the resistance value or measure it yourself using a multimeter. Then check the value of your power supply voltage <code>V_dc</code> and once when you have the values you can find the maximum current <code>I_max</code> value by calculating:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">I_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">V_dc</span><span class="o">/</span><span class="n">R</span>
</code></pre></div>
Finally check the value of the maximum current <code>I_max</code> with the datasheet of your driver board. If the <code>I_max</code> is too high you can lower the power supply voltage <code>V_dc</code> in order prevent too high peaks of the current. If you are not able to change your power supply voltage you can limit the voltage set to motor in software. 
<blockquote class="warning">
    <p class="heading">NOTE</p>
    The equation above calculates the worst case maximum current <code class="highlighter-rouge">I_max</code> and in most cases calculated <code class="highlighter-rouge">I_max</code> is higher than the actual value. Maximum current depends both on the motor hardware such as winding configuration and the control algorithm.<br />
</blockquote></p>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While the TMC6300 isn't directly listed as part of the supported hardware for the SimpleFOC Arduino library, we have verified that is compatible with the library.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details, please refer to the <a href="https://docs.simplefoc.com/bldc_drivers">SimpleFOC Arduino library documentation</a>.</p>
</div>
</div>
<div class="tabbed-block">
<p>Arduino SimpleFOClibrary supports two types of BLDC motors:</p>
<ul>
<li>
<p>BLDC motors</p>
<ul>
<li>
<p>3 phase (3 wire):</p>
<details class="info">
<summary>Gimbal Motors</summary>
<h2 id="gimbal-motors">Gimbal motors<a class="headerlink" href="#gimbal-motors" title="Permanent link"></a></h2>
<p>Gimbal motors will work basically with any BLDC motor driver, but since the high-performance drivers have current measurement circuits optimized for high currents you will not have any benefit of using them. Therefore low-power BLDC motor drivers will have comparable performance as the expensive high-power, high-performance drivers for gimbal motors. What is in my opinion very cool! üòÉ This was one of the main motivations to start developing  <span class="simple">Simple<span class="foc">FOC</span>Shield</span>.</p>
<p>Some of the characteristics of Gimbal motors are:
 - High torque on low velocities
 - Very smooth operation
 - Internal resistance &gt;10Œ©
 - Currents up to 5A</p>
</details>
<details class="info">
<summary>High-performance Motors</summary>
</details>
</li>
</ul>
</li>
<li>
<p>Stepper motors</p>
<ul>
<li>2 phase (4 wire)</li>
</ul>
</li>
</ul>
<details class="warning">
<summary>Current Limitations</summary>
<p>Before running any BLDC motor with the <span class="simple">Simple<span class="foc">FOC</span>library</span> please make sure your hardware can handle the currents your motor requires. </p>
<p>The simplest way to do it is by checking the motor phase resistance <code>R</code>. Either check the datasheet of your motor and search for the resistance value or <a href="phase_resistance">measure it yourself using a multimeter</a>.</p>
<p>Then check the value of your power supply voltage <code>V_dc</code> and once when you have the values you can find the maximum current <code>I_max</code> value by calculating:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">I_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">V_dc</span><span class="o">/</span><span class="n">R</span>
</code></pre></div>
<p>Finally check the value of the maximum current <code>I_max</code> with the datasheet of your driver board. If the <code>I_max</code> is too high you can lower the power supply voltage <code>V_dc</code> in order prevent too high peaks of the current. If you are not able to change your power supply voltage you can limit the voltage set to motor in software. 
<blockquote class="warning">
    <p class="heading">NOTE</p>
    The equation above calculates the worst case maximum current <code class="highlighter-rouge">I_max</code> and in most cases calculated <code class="highlighter-rouge">I_max</code> is higher than the actual value. Maximum current depends both of the motor hardware such as winding configuration and the control algorithm.<br />
</blockquote></p>
</details>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details, please refer to the <a href="https://docs.simplefoc.com/bldc_motors">SimpleFOC Arduino library documentation</a>.</p>
</div>
</div>
</div>
</div>
</div>
<h3 id="6pwm-motor-driver">6PWM Motor Driver<a class="headerlink" href="#6pwm-motor-driver" title="Permanent link"></a></h3>
<p>Users will need to utilize the <a href="https://docs.simplefoc.com/bldcdriver6pwm"><code>BLDCDriver6PWM</code> class</a> to provide the six PWM signals required for the TMC6300 motor driver.</p>
<dl>
<dt><code>BLDCDriver6PWM</code></dt>
<dd>
<p>This class provides an abstraction layer for most of the common BLDC drivers, which require six PWM signals. This method offers more control than a three PWM motor drivers, since each of the 6 half-bridges MOSFETs can be controlled independently.</p>
<h2 id="step-1-hardware-setup">Step 1. Hardware setup<a class="headerlink" href="#step-1-hardware-setup" title="Permanent link"></a></h2>
<p>To create the interface to the BLDC driver you need to specify the 6 <code>PWM</code> pin numbers for each motor phase and optionally <code>enable</code> pin.
```cpp
//  BLDCDriver6PWM( int phA_h, int phA_l, int phB_h, int phB_l, int phC_h, int phC_l, int en)
//  - phA_h, phA_l - A phase pwm pin high/low pair 
//  - phB_h, phB_l - B phase pwm pin high/low pair
//  - phB_h, phC_l - C phase pwm pin high/low pair
//  - enable pin    - (optional input)</p>
<div class="admonition note">
<p class="admonition-title">Microcontroller Considerations</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Arduino Uno</label><label for="__tabbed_3_2">STM32</label><label for="__tabbed_3_3">ESP32</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><blockquote class="info"> üì¢ Here is a quick guide to choosing appropriate PWM pins for different MCU architectures <a href="choosing_pwm_pins">see in docs</a>.</blockquote></p>
<h3 id="arduino-uno-support_1">Arduino UNO support<a class="headerlink" href="#arduino-uno-support_1" title="Permanent link"></a></h3>
<p>Arduino UNO and all the atmega328 based boards have only 6 PWM pins and in order to use the <code>BLDCDrievr6PWM</code> we need to use all of them. Those are <code>3</code>,<code>5</code>,<code>6</code>,<code>9</code>,<code>10</code> and <code>11</code>. 
Furthermore in order for the algorithm to work well we need to use the PWM pins that belong to the same timer for each high/low side pair of each phase.
So Atmega328 pins belonging to the timers are:</p>
<p><code>TIM0</code> |<code>TIM1</code> |<code>TIM2</code> </p>
</div>
<div class="tabbed-block">
<p>Therefore it is important that <code>phA_h</code> and <code>phA_l</code> belong to one timer, <code>phB_h</code> and <code>phB_l</code> to second timer and <code>phC_h</code> and <code>phC_l</code> to the last timer. If we decide that phase <code>A</code> belongs to the timer <code>TIM0</code> we can set <code>phA_h</code> either to pin <code>5</code> or pin <code>6</code>. </p>
<h3 id="stm32-support">STM32 support<a class="headerlink" href="#stm32-support" title="Permanent link"></a></h3>
<div class="grid cards" markdown>
<ul>
<li>
<p><strong>Hardware PWM</strong></p>
<hr />
<ul>
<li>Hardware 6 PWM mode</li>
<li>Software 6 PWM mode</li>
</ul>
<h4 id="hardware-6-pwm-mode">Hardware 6 PWM mode<a class="headerlink" href="#hardware-6-pwm-mode" title="Permanent link"></a></h4>
<p>In hardware 6 PWM mode the user uses only one timer, usually Timer 1 for all the 6 PWM channels. Stm32 boards usually have at least one timer which has automatic complementary channels which avoids the need for a complicated channel inverting configuration. <span class="simple">Simple<span class="foc">FOC</span>library</span> automatically enables this control mode if you provide the pins that support this interface to the constructor of the <code>BLDCDriver6PWM</code> class. For example, both STM32 Bluepill and STM32 Nucleo boards have this interface supported by pins:</p>
<table>
<thead>
<tr>
<th><code>T1C1</code></th>
<th><code>T1C2</code></th>
<th><code>T1C3</code></th>
<th><code>T1C1N</code></th>
<th><code>T1C2N</code></th>
<th><code>T1C3N</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PA8</code></td>
<td><code>PA9</code></td>
<td><code>PA10</code></td>
<td><code>PB13</code></td>
<td><code>PB14</code></td>
<td><code>PB15</code></td>
</tr>
</tbody>
</table>
<p>Where <code>T1Cx</code> are the Timer 1 channels and <code>T1CxN</code> are their complementary channels (inverted channels). Each pair of <code>T1Cx</code> and <code>T1CxN</code> is used for one pair of the high/low PWM pins. The library will configure the necessary timers and registers if you provide these pins to the constrictor of the <code>BLDCDriver6PWM</code> class. For example:</p>
</li>
<li>
<p><strong>Software PWM</strong></p>
<hr />
<p>BLDCDriver6PWM driver = BLDCDriver6PWM(PA8, PB13, PA9, PB14, PA10, PB15);
```</p>
<h4 id="software-6-pwm-mode">Software 6 PWM mode<a class="headerlink" href="#software-6-pwm-mode" title="Permanent link"></a></h4>
<p>If it is not possible to use the hardware 6 PWM mode with your board  <span class="simple">Simple<span class="foc">FOC</span>library</span> enables you to use any two channels of any of the timers as your high/low side PWM pair. Basically, the library will automatically configure the complementary channels on the provided low side pins. The only requirement for this code to work properly is exatcly the same as for the Arudino UNO, each phase high/low PWM pair needs to belong to the same timer. 
For example, if we take STM32 Nucleo F401RE board we can take for example:
<code>cpp
//  BLDCDriver6PWM( int phA_h, int phA_l, int phB_h, int phB_l, int phC_h, int phC_l, int en)
BLDCDriver6PWM driver = BLDCDriver6PWM(7, 2, 6, 3, 5, 4);</code>
Where</p>
<table>
<thead>
<tr>
<th><code>T1C1</code></th>
<th><code>T1C3</code></th>
<th><code>T2C3</code></th>
<th><code>T2C2</code></th>
<th><code>T3C1</code></th>
<th><code>T3C2</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>7</code></td>
<td><code>2</code></td>
<td><code>6</code></td>
<td><code>3</code></td>
<td><code>5</code></td>
<td><code>4</code></td>
</tr>
</tbody>
</table>
<p>On Bluepill we could use:
<code>cpp
//  BLDCDriver6PWM( int phA_h, int phA_l, int phB_h, int phB_l, int phC_h, int phC_l, int en)
BLDCDriver6PWM driver = BLDCDriver6PWM(PA8, PA9, PB6, PB7, PB8, PB9);</code>
Where</p>
</li>
</ul>
</div>
</div>
<div class="tabbed-block">
<p>--- | --- | ---| ---| ---| ---</p>
</div>
</div>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details about the <code>BLDCDriver6PWM</code> class, check out the <a href="https://docs.simplefoc.com/bldcdriver6pwm">online documentation</a>.</p>
</div>
</dd>
</dl>
<!-- 
The PWM carrier frequency used to control the motor driver can greatly affect its efficiency.

* Low frequency - poor current shape, which increased heating and harmonics loss in the motor
* High frequency - increased transistor switching loss -->

<h3 id="bldc-motor">BLDC Motor<a class="headerlink" href="#bldc-motor" title="Permanent link"></a></h3>
<p>All BLDC motors are handled with the <a href="https://docs.simplefoc.com/bldcmotor"><code>BLDCMotor</code> class</a>.</p>
<dl>
<dt><code>BLDCMotor</code></dt>
<dd>
<p>This class implements the BLDC FOC algorithm, motion control loops, and monitoring.</p>
<h2 id="step-1-creating-the-instance-of-the-bldc-motor">Step 1. Creating the instance of the BLDC motor<a class="headerlink" href="#step-1-creating-the-instance-of-the-bldc-motor" title="Permanent link"></a></h2>
<p>To instantiate the BLDC motor we need to create an instance of the <code>BLDCMotor</code> class and provide it the number of <code>pole pairs</code> of the motor.
```cpp
//  BLDCMotor(int pp, (optional R, KV))
//  - pp  - pole pair number
//  - R   - phase resistance value - optional
//  - KV  - motor KV rating [rpm/V] - optional</p>
<div class="admonition note">
<p class="admonition-title">Motor Considerations</p>
<p>While, the datasheet for our <a href="https://www.sparkfun.com/products/20441">gimbal motor</a>, indicates that there are <strong>8 pole pairs</strong>, we have found that the motor operates more smoothly if the <code>BLDCMotor</code> class is instantiated with <strong>7 pole pairs</strong> instead.</p>
<p><code>cp
BLDCMotor motor = BLDCMotor(7);</code></p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more details about the <code>BLDCMotor</code> class, check out the <a href="https://docs.simplefoc.com/bldcmotor">online documentation</a>.</p>
</div>
</dd>
</dl>
<h3 id="motion-control">Motion Control<a class="headerlink" href="#motion-control" title="Permanent link"></a></h3>
<p>Unless a feedback loop is incorporated when driving the motor <em>(i.e. with <a href="https://docs.simplefoc.com/sensors">position sensors</a> or <a href="https://docs.simplefoc.com/current_sense">current sensing</a>)</em>, users should implement the SimpleFOC library using the <a href="https://docs.simplefoc.com/open_loop_motion_control">open-loop control</a>.</p>
<p>Open-Loop Motion Control Types:</p>
<ul>
<li><a href="https://docs.simplefoc.com/velocity_openloop">Velocity</a></li>
<li><a href="https://docs.simplefoc.com/angle_openloop">Position</a></li>
</ul>
<!-- #### Sensorless FOC
Current measurement

#### Closed-Loop
With position sensors

Control Types (available in library):
* Torque
* Velocity
* Angle

#### Low-side current sensing

While the SimpleFOC Arduino library offers the option to incorporate low-side current sensors into the feedback loop, 




### Low-side current sensing considerations

As ADC conversion has to be synchronised with the PWM generated on ALL the phases, it is important that all the PWM generated for all the phases have aligned PWM. Since the microcontrollers usually have more than one timer for PWM generation on its pins, different architectures of microcontrollers have different degrees of alinement in between the PWM generated from different timers.


<blockquote class="info">
<p class="heading">RULE OF THUMB: PWM timer pins</p>
In order to maximise your chances for the low-side current sensing to work well we suggest to make sure that the PWM pins chosen for your driver all belong to the same timer.



utilizing the [open loop example](https://github.com/simplefoc/Arduino-FOC/blob/master/examples/motion_control/open_loop_motor_control/open_loop_velocity_example/open_loop_velocity_example.ino) combined with the [6 channel PWM method](https://docs.simplefoc.com/bldcdriver6pwm) and *every* PWM pin on the Arduino Uno gets this board working. Note the [pairs of PWM pins](https://docs.simplefoc.com/bldcdriver6pwm) that must be used. -->

<h2 id="bldc-example">BLDC Example<a class="headerlink" href="#bldc-example" title="Permanent link"></a></h2>
<h2 id="hardware-assembly_1">Hardware Assembly<a class="headerlink" href="#hardware-assembly_1" title="Permanent link"></a></h2>
<p>Users should already have followed the instructions from the <a href="../../component_assembly">component assembly</a> and <a href="../../hardware_assembly">example setups</a> sections to setup their hardware for this example.</p>
<figure>
<p><a href="../img/hookup_guide/example-BLDC_motor.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/example-BLDC_motor.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<h3 id="redboard-plus-to-tmc6300_1">RedBoard Plus to TMC6300<a class="headerlink" href="#redboard-plus-to-tmc6300_1" title="Permanent link"></a></h3>
<p>Connect the following pins from the RedBoard Plus to the TMC6300.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">RedBoard</th>
<th style="text-align: center;"><code>3</code></th>
<th style="text-align: center;"><code>5</code></th>
<th style="text-align: center;"><code>6</code></th>
<th style="text-align: center;"><code>9</code></th>
<th style="text-align: center;"><code>10</code></th>
<th style="text-align: center;"><code>11</code></th>
<th style="text-align: center;"><code>12</code></th>
<th style="text-align: center;"><code>GND</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Motor Driver</td>
<td style="text-align: center;"><code>UL</code></td>
<td style="text-align: center;"><code>WL</code></td>
<td style="text-align: center;"><code>WH</code></td>
<td style="text-align: center;"><code>VL</code></td>
<td style="text-align: center;"><code>VH</code></td>
<td style="text-align: center;"><code>UH</code></td>
<td style="text-align: center;"><code>VIO</code></td>
<td style="text-align: center;"><code>GND</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<figure>
<p><a href="../img/hookup_guide/wiring-to_redboard.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/wiring-to_redboard.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<h3 id="connecting-the-gimbal-motor">Connecting the Gimbal Motor<a class="headerlink" href="#connecting-the-gimbal-motor" title="Permanent link"></a></h3>
<p>Connecting a 3-phase, <a href="https://en.wikipedia.org/wiki/Brushless_DC_electric_motor" title="brushless DC">BLDC</a> motor to the motor driver is relatively simple as the sequence of the wires connection doesn't matter. Using jumper wires, connect the <a href="../component_assembly/#bldc-gimbal-motor">prepared ends of the gimbal stabilizer motor</a> to the <a href="../hardware_overview/#__tabbed_1_2"><code>U</code>, <code>V</code>, and <code>W</code> pins of the TMC6300 breakout board</a>.</p>
<figure>
<p><a href="../img/hookup_guide/motor-connect_jumper_wire.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/motor-connect_jumper_wire.jpg" width="200" /></a></p>
<figcaption>
<p>A prepared end of the gimbal motor being inserted into the female terminals of a jumper wire.</p>
</figcaption>
</figure>
<h3 id="powering-the-tmc6300_1">Powering the TMC6300<a class="headerlink" href="#powering-the-tmc6300_1" title="Permanent link"></a></h3>
<p>If users are unable to find a suitable power source, we have found that the 5V power output from the RedBoard Plus is sufficient to drive the gimbal motor, under a no load condition at low speeds.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">RedBoard</th>
<th style="text-align: center;"><code>5V</code></th>
<th style="text-align: center;"><code>GND</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Motor Driver</td>
<td style="text-align: center;"><code>VIN</code></td>
<td style="text-align: center;"><code>GND</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<figure>
<p><a href="../img/hookup_guide/wiring-redboard_power.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/wiring-redboard_power.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<h2 id="example-code">Example Code<a class="headerlink" href="#example-code" title="Permanent link"></a></h2>
<p>After installing and setting up the Arduino IDE and the Simple FOC Arduino library, users will need to upload the following example code to the RedBoard Plus. This code can be copied or downloaded below:</p>
<p><center>
<a class="md-button md-button--primary" href="../BLDC/BLDC.ino"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06z"/></svg></span> Download <code>BLDC.ino</code> Example Code</a>
</center></p>
<div class="admonition code">
<p class="admonition-title">Example Code</p>
<div class="highlight"><span class="filename">BLDC.ino</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span><span class="c1">// Open loop motor control example</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SimpleFOC.h&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="c1">// BLDC motor &amp; driver instance</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="c1">// BLDCMotor motor = BLDCMotor(pole pair number);</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="n">BLDCMotor</span><span class="w"> </span><span class="n">motor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLDCMotor</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="c1">// BLDCDriver3PWM driver = BLDCDriver3PWM(pwmA, pwmB, pwmC, Enable(optional));</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="n">BLDCDriver6PWM</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLDCDriver6PWM</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">    </span><span class="c1">// Stepper motor &amp; driver instance</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">    </span><span class="c1">//StepperMotor motor = StepperMotor(50);</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span><span class="c1">//StepperDriver4PWM driver = StepperDriver4PWM(9, 5, 10, 6,  8);</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">    </span><span class="c1">//target variable</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">target_velocity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">    </span><span class="c1">// // instantiate the commander</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">    </span><span class="n">Commander</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Commander</span><span class="p">(</span><span class="n">Serial</span><span class="p">);</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">    </span><span class="c1">// void doTarget(char* cmd) { command.scalar(&amp;target_velocity, cmd); }</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">    </span><span class="c1">// void doLimit(char* cmd) { command.scalar(&amp;motor.voltage_limit, cmd); }</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">      </span><span class="c1">// driver config</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">      </span><span class="c1">// power supply voltage [V]</span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_power_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">      </span><span class="c1">// limit the maximal dc voltage the driver can set</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">      </span><span class="c1">// as a protection measure for the low-resistance motors</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="w">      </span><span class="c1">// this value is fixed on startup</span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="w">      </span><span class="c1">// pwm frequency to be used [Hz]</span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="w">      </span><span class="c1">// for atmega328 fixed to 32kHz</span>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="w">      </span><span class="c1">// esp32/stm32/teensy configurable</span>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">pwm_frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32000</span><span class="p">;</span>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="w">      </span><span class="c1">// link the motor and the driver</span>
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">linkDriver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">driver</span><span class="p">);</span>
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a><span class="w">      </span><span class="c1">// limiting motor movements</span>
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a><span class="w">      </span><span class="c1">// limit the voltage to be set to the motor</span>
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a><span class="w">      </span><span class="c1">// start very low for high resistance motors</span>
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a><span class="w">      </span><span class="c1">// current = voltage / resistance, so try to be well under 1Amp</span>
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">voltage_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">   </span><span class="c1">// [V]</span>
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a><span class="w">      </span><span class="c1">// open loop control config</span>
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">controller</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MotionControlType</span><span class="o">::</span><span class="n">velocity_openloop</span><span class="p">;</span>
<a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a>
<a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a><span class="w">      </span><span class="c1">// init motor hardware</span>
<a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>
<a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a><span class="w">      </span><span class="c1">// add target command T</span>
<a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a><span class="w">      </span><span class="c1">// command.add(&#39;T&#39;, doTarget, &quot;target velocity&quot;);</span>
<a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a><span class="w">      </span><span class="c1">// command.add(&#39;L&#39;, doLimit, &quot;voltage limit&quot;);</span>
<a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a>
<a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Motor ready!&quot;</span><span class="p">);</span>
<a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Set target velocity [rad/s]&quot;</span><span class="p">);</span>
<a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a><span class="w">      </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a>
<a id="__codelineno-2-64" name="__codelineno-2-64" href="#__codelineno-2-64"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-65" name="__codelineno-2-65" href="#__codelineno-2-65"></a>
<a id="__codelineno-2-66" name="__codelineno-2-66" href="#__codelineno-2-66"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-67" name="__codelineno-2-67" href="#__codelineno-2-67"></a>
<a id="__codelineno-2-68" name="__codelineno-2-68" href="#__codelineno-2-68"></a><span class="w">      </span><span class="c1">// open loop velocity movement</span>
<a id="__codelineno-2-69" name="__codelineno-2-69" href="#__codelineno-2-69"></a><span class="w">      </span><span class="c1">// using motor.voltage_limit and motor.velocity_limit</span>
<a id="__codelineno-2-70" name="__codelineno-2-70" href="#__codelineno-2-70"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">target_velocity</span><span class="p">);</span>
<a id="__codelineno-2-71" name="__codelineno-2-71" href="#__codelineno-2-71"></a>
<a id="__codelineno-2-72" name="__codelineno-2-72" href="#__codelineno-2-72"></a><span class="w">      </span><span class="c1">// user communication</span>
<a id="__codelineno-2-73" name="__codelineno-2-73" href="#__codelineno-2-73"></a><span class="w">      </span><span class="n">command</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
<a id="__codelineno-2-74" name="__codelineno-2-74" href="#__codelineno-2-74"></a>
<a id="__codelineno-2-75" name="__codelineno-2-75" href="#__codelineno-2-75"></a>
<a id="__codelineno-2-76" name="__codelineno-2-76" href="#__codelineno-2-76"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
</div>
<h3 id="running-the-motor">Running the Motor<a class="headerlink" href="#running-the-motor" title="Permanent link"></a></h3>
<p>Be default, the motor should spin automatically. However, if users wish to control the speed of the motor, they can uncomment lines <strong>21-22</strong> and <strong>56-57</strong> of code and reprogram the RedBoard Plus.</p>
<details class="code">
<summary>Code Changes Highlighted</summary>
<p>Uncomment the following lines of code (<strong>21-22</strong> and <strong>56-57</strong>):</p>
<div class="highlight"><span class="filename">BLDC.ino</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w">    </span><span class="c1">// Open loop motor control example</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SimpleFOC.h&gt;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="c1">// BLDC motor &amp; driver instance</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="c1">// BLDCMotor motor = BLDCMotor(pole pair number);</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="n">BLDCMotor</span><span class="w"> </span><span class="n">motor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLDCMotor</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="c1">// BLDCDriver3PWM driver = BLDCDriver3PWM(pwmA, pwmB, pwmC, Enable(optional));</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">    </span><span class="n">BLDCDriver6PWM</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLDCDriver6PWM</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">    </span><span class="c1">// Stepper motor &amp; driver instance</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">    </span><span class="c1">//StepperMotor motor = StepperMotor(50);</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">    </span><span class="c1">//StepperDriver4PWM driver = StepperDriver4PWM(9, 5, 10, 6,  8);</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">    </span><span class="c1">//target variable</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">target_velocity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="c1">// // instantiate the commander</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">    </span><span class="n">Commander</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Commander</span><span class="p">(</span><span class="n">Serial</span><span class="p">);</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="hll"><span class="w">    </span><span class="c1">// void doTarget(char* cmd) { command.scalar(&amp;target_velocity, cmd); }</span>
</span><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="hll"><span class="w">    </span><span class="c1">// void doLimit(char* cmd) { command.scalar(&amp;motor.voltage_limit, cmd); }</span>
</span><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">      </span><span class="c1">// driver config</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">      </span><span class="c1">// power supply voltage [V]</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_power_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="w">      </span><span class="c1">// limit the maximal dc voltage the driver can set</span>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">      </span><span class="c1">// as a protection measure for the low-resistance motors</span>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w">      </span><span class="c1">// this value is fixed on startup</span>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">      </span><span class="c1">// pwm frequency to be used [Hz]</span>
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">      </span><span class="c1">// for atmega328 fixed to 32kHz</span>
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">      </span><span class="c1">// esp32/stm32/teensy configurable</span>
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">pwm_frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32000</span><span class="p">;</span>
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a>
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="w">      </span><span class="c1">// link the motor and the driver</span>
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">linkDriver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">driver</span><span class="p">);</span>
<a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>
<a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a><span class="w">      </span><span class="c1">// limiting motor movements</span>
<a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a><span class="w">      </span><span class="c1">// limit the voltage to be set to the motor</span>
<a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a><span class="w">      </span><span class="c1">// start very low for high resistance motors</span>
<a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a><span class="w">      </span><span class="c1">// current = voltage / resistance, so try to be well under 1Amp</span>
<a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">voltage_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">   </span><span class="c1">// [V]</span>
<a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a>
<a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a><span class="w">      </span><span class="c1">// open loop control config</span>
<a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">controller</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MotionControlType</span><span class="o">::</span><span class="n">velocity_openloop</span><span class="p">;</span>
<a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a>
<a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a><span class="w">      </span><span class="c1">// init motor hardware</span>
<a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a>
<a id="__codelineno-3-55" name="__codelineno-3-55" href="#__codelineno-3-55"></a><span class="w">      </span><span class="c1">// add target command T</span>
<a id="__codelineno-3-56" name="__codelineno-3-56" href="#__codelineno-3-56"></a><span class="hll"><span class="w">      </span><span class="c1">// command.add(&#39;T&#39;, doTarget, &quot;target velocity&quot;);</span>
</span><a id="__codelineno-3-57" name="__codelineno-3-57" href="#__codelineno-3-57"></a><span class="hll"><span class="w">      </span><span class="c1">// command.add(&#39;L&#39;, doLimit, &quot;voltage limit&quot;);</span>
</span><a id="__codelineno-3-58" name="__codelineno-3-58" href="#__codelineno-3-58"></a>
<a id="__codelineno-3-59" name="__codelineno-3-59" href="#__codelineno-3-59"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
<a id="__codelineno-3-60" name="__codelineno-3-60" href="#__codelineno-3-60"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Motor ready!&quot;</span><span class="p">);</span>
<a id="__codelineno-3-61" name="__codelineno-3-61" href="#__codelineno-3-61"></a><span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Set target velocity [rad/s]&quot;</span><span class="p">);</span>
<a id="__codelineno-3-62" name="__codelineno-3-62" href="#__codelineno-3-62"></a><span class="w">      </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-3-63" name="__codelineno-3-63" href="#__codelineno-3-63"></a>
<a id="__codelineno-3-64" name="__codelineno-3-64" href="#__codelineno-3-64"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-65" name="__codelineno-3-65" href="#__codelineno-3-65"></a>
<a id="__codelineno-3-66" name="__codelineno-3-66" href="#__codelineno-3-66"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-67" name="__codelineno-3-67" href="#__codelineno-3-67"></a>
<a id="__codelineno-3-68" name="__codelineno-3-68" href="#__codelineno-3-68"></a><span class="w">      </span><span class="c1">// open loop velocity movement</span>
<a id="__codelineno-3-69" name="__codelineno-3-69" href="#__codelineno-3-69"></a><span class="w">      </span><span class="c1">// using motor.voltage_limit and motor.velocity_limit</span>
<a id="__codelineno-3-70" name="__codelineno-3-70" href="#__codelineno-3-70"></a><span class="w">      </span><span class="n">motor</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">target_velocity</span><span class="p">);</span>
<a id="__codelineno-3-71" name="__codelineno-3-71" href="#__codelineno-3-71"></a>
<a id="__codelineno-3-72" name="__codelineno-3-72" href="#__codelineno-3-72"></a><span class="w">      </span><span class="c1">// user communication</span>
<a id="__codelineno-3-73" name="__codelineno-3-73" href="#__codelineno-3-73"></a><span class="w">      </span><span class="n">command</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
<a id="__codelineno-3-74" name="__codelineno-3-74" href="#__codelineno-3-74"></a>
<a id="__codelineno-3-75" name="__codelineno-3-75" href="#__codelineno-3-75"></a>
<a id="__codelineno-3-76" name="__codelineno-3-76" href="#__codelineno-3-76"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
</details>
<p>In order to drive the motor, users will need to access the <a href="https://learn.sparkfun.com/tutorials/8">serial monitor</a> and provide the <a href="https://docs.simplefoc.com/commands_source">commands</a> necessary to drive the motor. A full list of the available commands can be found in the <a href="https://docs.simplefoc.com/commands_source">Simple FOC Arduino library documentation</a>. However, only the <code>T</code> and <code>L</code> commands are enabled in the example code.</p>
<ul>
<li>Sending a <code>T</code> command will set the target motor velocity in rads/s<ul>
<li>Example - Entering <code>T6</code> into the serial monitor, will set the target motor velocity to 6 radians/s.</li>
</ul>
</li>
<li>Sending a <code>L</code> command will set the voltage limit of the motor driver and in turn, the current limit <em>(voltage_limit / motor_resistance)</em><ul>
<li>Example - Entering <code>L5</code> into the serial monitor, will set the voltage limit to 5V and the current limit to .5A <em>(5V/10&ohm;)</em>.</li>
</ul>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Baud Rate</p>
<p>THe serial monitor baud rate should be configured to 115200bps.</p>
</div>
<h2 id="dc-motor-example">DC Motor Example<a class="headerlink" href="#dc-motor-example" title="Permanent link"></a></h2>
<h2 id="hardware-assembly_2">Hardware Assembly<a class="headerlink" href="#hardware-assembly_2" title="Permanent link"></a></h2>
<p>Users should already have followed the instructions from the <a href="../../component_assembly">component assembly</a> and <a href="../../hardware_assembly">example setups</a> sections to setup their hardware for this example.</p>
<figure>
<p><a href="../img/hookup_guide/example-DC_motor.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/example-DC_motor.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<h3 id="redboard-plus-to-tmc6300_2">RedBoard Plus to TMC6300<a class="headerlink" href="#redboard-plus-to-tmc6300_2" title="Permanent link"></a></h3>
<p>Connect the following pins from the RedBoard Plus to the TMC6300.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">RedBoard</th>
<th style="text-align: center;"><code>3</code></th>
<th style="text-align: center;"><code>5</code></th>
<th style="text-align: center;"><code>6</code></th>
<th style="text-align: center;"><code>9</code></th>
<th style="text-align: center;"><code>10</code></th>
<th style="text-align: center;"><code>11</code></th>
<th style="text-align: center;"><code>12</code></th>
<th style="text-align: center;"><code>GND</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Motor Driver</td>
<td style="text-align: center;"><code>UL</code></td>
<td style="text-align: center;"><code>WL</code></td>
<td style="text-align: center;"><code>WH</code></td>
<td style="text-align: center;"><code>VL</code></td>
<td style="text-align: center;"><code>VH</code></td>
<td style="text-align: center;"><code>UH</code></td>
<td style="text-align: center;"><code>VIO</code></td>
<td style="text-align: center;"><code>GND</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<figure>
<p><a href="../img/hookup_guide/wiring-to_redboard.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/wiring-to_redboard.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<h3 id="connecting-the-dc-motor">Connecting the DC Motor<a class="headerlink" href="#connecting-the-dc-motor" title="Permanent link"></a></h3>
<p>If this was a H-bridge motor driver, the connections to the motor wouldn't matter. However, as there are three half-bridges, users will need to note which half-bridges the DC motor is connected to. These connections will dictate how the motor is driven by the software. For the example, connect the motor to the <code>V</code> and <code>W</code> output channels of the TMC6300 motor driver.</p>
<h3 id="powering-the-tmc6300_2">Powering the TMC6300<a class="headerlink" href="#powering-the-tmc6300_2" title="Permanent link"></a></h3>
<p>If users are unable to find a suitable power source, we have found that the 5V power output from the RedBoard Plus is sufficient to drive the gimbal motor, under a no load condition at low speeds.</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: left;">RedBoard</th>
<th style="text-align: center;"><code>5V</code></th>
<th style="text-align: center;"><code>GND</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Motor Driver</td>
<td style="text-align: center;"><code>VIN</code></td>
<td style="text-align: center;"><code>GND</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<figure>
<p><a href="../img/hookup_guide/wiring-redboard_power.jpg" title="Click to enlarge"><img alt="" src="../img/hookup_guide/wiring-redboard_power.jpg" width="200" /></a></p>
<figcaption>
<p>A graphical representation of the connections between the <a href="https://www.sparkfun.com/products/18158">RedBoard Plus</a> and a <a href="https://www.sparkfun.com/products/12002">breadboard</a> with the <a href="https://www.sparkfun.com/products/21867">TMC6300 motor driver</a> attached.</p>
</figcaption>
</figure>
<h2 id="example-code_1">Example Code<a class="headerlink" href="#example-code_1" title="Permanent link"></a></h2>
<p>After installing and setting up the Arduino IDE and the Simple FOC Arduino library, users will need to upload the following example code to the RedBoard Plus. This code can be copied or downloaded below:</p>
<p><center>
<a class="md-button md-button--primary" href="../DC/DC.ino"><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06z"/></svg></span> Download <code>DC.ino</code> Example Code</a>
</center></p>
<div class="admonition code">
<p class="admonition-title">Example Code</p>
<div class="highlight"><span class="filename">DC.ino</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w">    </span><span class="c1">// BLDC driver standalone example</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SimpleFOC.h&gt;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="c1">// BLDC driver instance</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="n">BLDCDriver6PWM</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLDCDriver6PWM</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">      </span><span class="c1">// pwm frequency to be used [Hz]</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">      </span><span class="c1">// for atmega328 fixed to 32kHz</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">      </span><span class="c1">// esp32/stm32/teensy configurable</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">pwm_frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32000</span><span class="p">;</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">      </span><span class="c1">// power supply voltage [V]</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_power_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">      </span><span class="c1">// Max DC voltage allowed - default voltage_power_supply</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">      </span><span class="c1">// daad_zone [0,1] - default 0.02f - 2%</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">dead_zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.05f</span><span class="p">;</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">      </span><span class="c1">// driver init</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="w">      </span><span class="c1">// enable driver</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">enable</span><span class="p">();</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">      </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="w">        </span><span class="n">driver</span><span class="p">.</span><span class="n">setPwm</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="w">        </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="w">        </span><span class="n">driver</span><span class="p">.</span><span class="n">setPwm</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="w">        </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
</div>
<h3 id="running-the-motor_1">Running the Motor<a class="headerlink" href="#running-the-motor_1" title="Permanent link"></a></h3>
<p>Be default, the motor should spin automatically. However, if users wish to control the motor, they can modify lines <strong>30</strong> and <strong>33</strong> of code and reprogram the RedBoard Plus. These lines control the high and low-side MOSFETS of the H-bridge directly through pins <code>5</code>, <code>6</code>, <code>9</code>, and <code>10</code>.</p>
<details class="code">
<summary>Code Changes Highlighted</summary>
<p>MOdify the following lines of code (<strong>30</strong> and <strong>33</strong>):</p>
<div class="highlight"><span class="filename">DC.ino</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w">    </span><span class="c1">// BLDC driver standalone example</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SimpleFOC.h&gt;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="c1">// BLDC driver instance</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="n">BLDCDriver6PWM</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLDCDriver6PWM</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">);</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">      </span><span class="c1">// pwm frequency to be used [Hz]</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">      </span><span class="c1">// for atmega328 fixed to 32kHz</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">      </span><span class="c1">// esp32/stm32/teensy configurable</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">pwm_frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32000</span><span class="p">;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">      </span><span class="c1">// power supply voltage [V]</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_power_supply</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">      </span><span class="c1">// Max DC voltage allowed - default voltage_power_supply</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">voltage_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">      </span><span class="c1">// daad_zone [0,1] - default 0.02f - 2%</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">dead_zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.05f</span><span class="p">;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="w">      </span><span class="c1">// driver init</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="w">      </span><span class="c1">// enable driver</span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="w">      </span><span class="n">driver</span><span class="p">.</span><span class="n">enable</span><span class="p">();</span>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="w">      </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="hll"><span class="w">        </span><span class="n">driver</span><span class="p">.</span><span class="n">setPwm</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="w">        </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="hll"><span class="w">        </span><span class="n">driver</span><span class="p">.</span><span class="n">setPwm</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="w">        </span><span class="n">_delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
</details>
<ul>
<li>The PWM voltage value <code>driver.setPwm(voltage_value,0,0)</code> affects the speed of the motor.</li>
<li>The position of this value inr elation to the PWM drive channel <code>driver.setPwm(channel_v,channel_w,0)</code> affects the direction.</li>
</ul>
<details class="tip">
<summary>Tip</summary>
<p>Users may also be interested in the <a href="https://docs.simplefoc.com/dc_motors_library">SimpleDC Motor library</a> to drive DC motors with the Simple FOC Arduino library.</p>
</details>
<h1 id="troubleshooting-tips">Troubleshooting Tips<a class="headerlink" href="#troubleshooting-tips" title="Permanent link"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Need Help?</p>
<p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading on over to the <a href="https://www.sparkfun.com/technical_assistanc">SparkFun Technical Assistance</a> page for some initial troubleshooting.</p>
<p><center>
<a class="md-button md-button--primary" href="https://www.sparkfun.com/technical_assistance">SparkFun Technical Assistance Page</a>
</center></p>
<p>If you can't find what you need there, the <a href="https://forum.sparkfun.com/index.php">SparkFun Forums</a> is a great place to search product forums and ask questions.</p>
<div class="admonition info">
<p class="admonition-title">Account Registration Required</p>
<p>If this is your first visit to our forum, you'll need to create a <a href="https://forum.sparkfun.com/ucp.php?mode=register">Forum Account</a> to post questions.</p>
</div>
</div>
<h2 id="esp32-compile-error">ESP32 Compile Error<a class="headerlink" href="#esp32-compile-error" title="Permanent link"></a></h2>
<p>If users run into an error similar to, <code>fatal error: soc/soc_caps.h: No such file or directory</code>, it may be due to an issue with the version of the ESP32 Arduino core that is installed in the <strong>Boards Manager</strong>. Users should make sure the have the latest version of the ESP32 Arduino core installed; or at least a version later than <code>v2.0.1</code>.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For more information, please reference this <a href="https://community.simplefoc.com/t/compilation-error/1700">forum post</a> for the Simple FOC Arduino library.</p>
</div>
<h1 id="resources">Resources:<a class="headerlink" href="#resources" title="Permanent link"></a></h1>
<h2 id="product-resources">Product Resources<a class="headerlink" href="#product-resources" title="Permanent link"></a></h2>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg></span> <a href="https://www.sparkfun.com/products/21867">Product Page</a></li>
<li>Component Documentation<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64zm384 64H256V0zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16m32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16m32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368"/></svg></span> <a href="../component_documentation/TMC6300.pdf">TMC6300 Datasheet</a></li>
</ul>
</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h8.08a7 7 0 0 1-.08-1 7 7 0 0 1 7-7 7 7 0 0 1 3 .69V8a2 2 0 0 0-2-2h-8l-2-2zm14 10a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.2 4.2 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5s-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14zm1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5"/></svg></span> Design Files:<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64zm384 64H256V0zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16m32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16m32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368"/></svg></span> <a href="../board_files/dimensions.pdf">Board Dimensions</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64zm384 64H256V0zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16m32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16m32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368"/></svg></span> <a href="../board_files/schematic.pdf">Schematic</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-2 6h-2v2h2v2h-2v2h-2v-2h2v-2h-2v-2h2v-2h-2V8h2v2h2z"/></svg></span> <a href="../board_files/eagle_files.zip">Eagle Files</a></li>
</ul>
</li>
<li>Arduino Library:<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span> <a href="https://github.com/simplefoc/Arduino-FOC">Simple FOC</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4v18h16v2H4c-1.1 0-2-.9-2-2V4zm11 3h5.5L15 1.5zM8 0h8l6 6v12c0 1.11-.89 2-2 2H8a2 2 0 0 1-2-2V2c0-1.11.89-2 2-2m9 16v-2H8v2zm3-4v-2H8v2z"/></svg></span> <a href="https://docs.simplefoc.com/">Documentation</a><ul>
<li><a href="https://docs.simplefoc.com/library_download">Installation</a></li>
<li><a href="https://docs.simplefoc.com/supported_hardware">Supported Hardware</a></li>
<li><a href="https://docs.simplefoc.com/code">Code Overview</a></li>
</ul>
</li>
</ul>
</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10 15 5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73"/></svg></span> <a href="https://youtu.be/I0sJSTlUF_E">SFE Product Showcase</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></span> <a href="https://github.com/sparkfun/SparkFun_Three_Phase_Motor_Driver-TMC6300">Hardware Repo</a></li>
</ul>
<h3 id="additional-resources">Additional Resources<a class="headerlink" href="#additional-resources" title="Permanent link"></a></h3>
<ul>
<li><a href="https://www.sparkfun.com/categories/178">Motors and Motor Driver Product Category</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 12A2.5 2.5 0 0 0 19 9.5 2.5 2.5 0 0 0 16.5 7 2.5 2.5 0 0 0 14 9.5a2.5 2.5 0 0 0 2.5 2.5M9 11a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"/></svg></span> <a href="https://www.sparkfun.com/technical_assistance">SparkFun Technical Assistance</a></li>
</ul>
<h2 id="manufacturers-resources">üè≠&nbsp;Manufacturer's Resources<a class="headerlink" href="#manufacturers-resources" title="Permanent link"></a></h2>
<p>Analog Devices + Trinamic also provides great resources for the TMC6300 motor driver:</p>
<ul>
<li><a href="https://www.trinamic.com/products/integrated-circuits/details/tmc6300-la/">TMC6300 Product Page</a><ul>
<li><a href="https://www.trinamic.com/products/integrated-circuits/details/tmc6300-la/#block-diagram">Block Diagram/Pinout</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 9h5.5L13 3.5zM6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2zm3-4v-2H6v2z"/></svg></span> <a href="https://www.trinamic.com/products/integrated-circuits/details/tmc6300-la/#downloads-2">Datasheet</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4v18h16v2H4c-1.1 0-2-.9-2-2V4zm11 3h5.5L15 1.5zM8 0h8l6 6v12c0 1.11-.89 2-2 2H8a2 2 0 0 1-2-2V2c0-1.11.89-2 2-2m9 16v-2H8v2zm3-4v-2H8v2z"/></svg></span> <a href="https://www.trinamic.com/products/integrated-circuits/details/tmc6300-la/#downloads-1">Application Notes</a></li>
</ul>
</li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10 15 5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73"/></svg></span> <a href="https://youtu.be/WCvQjW1gSNY">Trinamic: TMC6300 Product Training Module</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3C9.23 3 6.19 5.95 6 9.66l-1.92 2.53c-.24.31 0 .81.42.81H6v3c0 1.11.89 2 2 2h1v3h7v-4.69c2.37-1.12 4-3.51 4-6.31 0-3.86-3.12-7-7-7m1 11h-2v-2h2zm1.75-5.19c-.29.4-.66.69-1.11.93-.25.16-.42.33-.51.52-.09.18-.13.43-.13.74h-2c0-.5.11-.92.31-1.18.19-.27.54-.57 1.05-.91.26-.16.47-.36.61-.59.16-.23.23-.5.23-.82 0-.3-.08-.56-.26-.75-.18-.18-.44-.28-.75-.28a1 1 0 0 0-.66.23c-.18.16-.27.39-.28.69h-1.93l-.01-.03c-.01-.79.25-1.36.77-1.77.54-.39 1.24-.59 2.11-.59.93 0 1.66.23 2.19.68.54.45.81 1.06.81 1.82 0 .5-.15.91-.44 1.31"/></svg></span> <a href="https://www.trinamic.com/support/technical-support/">Technical Support Page</a></li>
</ul>
<p><center>
<img alt="QR code to the hookup guide" class="qr" src="../img/qr_code/hookup_guide.png" />
</center></p>
<h2 id="background-resources">Background Resources<a class="headerlink" href="#background-resources" title="Permanent link"></a></h2>
<p>Below, are several articles, application notes, and other technical resources on 3-phase motors and utilizing a field oriented control (FOC) scheme:</p>
<ul>
<li>Microchip Technology<ul>
<li><a href="https://ww1.microchip.com/downloads/en/appnotes/00885a.pdf">AN885: Brushless DC (BLDC) Motor Fundamentals</a></li>
<li><a href="https://ww1.microchip.com/downloads/en/Appnotes/Sensored-Encoder-Based%29-Field-Oriented-Control-of-Three-Phase-%20Permanent-%20Magnet-%20Synchronous-DS00002757A.pdf">AN2757: Sensored (Encoder-Based) Field Oriented Control of Three-Phase Permanent Magnet Synchronous Motor (PMSM)</a></li>
<li><a href="https://www.eeweb.com/wp-content/uploads/articles-app-notes-files-sensorless-field-oriented-control-of-a-pmsm-1340055193.pdf">AN1078: Sensorless Field Oriented Control of a PMSM</a></li>
<li><a href="https://ww1.microchip.com/downloads/en/Appnotes/doc32126.pdf">AVR32723: Sensor Field Oriented Control for Brushless DC motors with AT32UC3B0256</a></li>
</ul>
</li>
<li>Diodes Incorporated<ul>
<li><a href="https://www.diodes.com/assets/Uploads/AN1164-BLDC-Motors.pdf">AN1164: Introduction to Brushless DC Motors</a></li>
</ul>
</li>
<li>Monolithic Power Systems<ul>
<li><a href="https://www.monolithicpower.com/media/document/Brushless_DC_Motor_Fundamentals.pdf">AN047: Brushless DC Motor Fundamentals</a></li>
</ul>
</li>
<li>Texas Instruments<ul>
<li><a href="https://www.ti.com/lit/ml/slyp711/slyp711.pdf">Demystifying BLDC motor commutation: Trap, Sine, &amp; FOC</a></li>
<li><a href="https://www.ti.com/lit/an/sprabq2/sprabq2.pdf">Sensored Field Oriented Control of 3-Phase Permanent Magnet Synchronous Motors</a></li>
<li><a href="https://www.ti.com/lit/an/sprabq3/sprabq3.pdf">Sensorless Field Oriented Control of 3-Phase Permanent Magnet Synchronous Motors</a></li>
<li><a href="https://www.ti.com/lit/an/slvaes1a/slvaes1a.pdf">Brushless-DC Motor Driver Considerations and Selection Guide</a></li>
<li><a href="https://www.ti.com/lit/an/sprt703/sprt703.pdf">High Performance Brushless DC Motor Control</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m18 16-4-3.2V16H6V8h8v3.2L18 8m2-4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg></span>&nbsp;<a href="https://www.ti.com/video/3881563245001">Field oriented control of permanent magnet synchronous motors</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m18 16-4-3.2V16H6V8h8v3.2L18 8m2-4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg></span>&nbsp;<a href="https://www.ti.com/video/3871706529001">Field Oriented Control of Permanent Magnet Motors</a><ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10 15 5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73"/></svg></span>&nbsp;<a href="https://www.youtube.com/watch?v=cdiZUszYLiA">Field Oriented Control of Permanent Magnet Motors</a></li>
</ul>
</li>
</ul>
</li>
<li>MATLAB<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10 15 5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73"/></svg></span>&nbsp;<a href="https://youtu.be/YPD1_rcXBIE">Motor Control, Part 4: Understanding Field-Oriented Control</a></li>
</ul>
</li>
<li>Analog Devices + Trinamic<ul>
<li><a href="https://www.trinamic.com/technology/motor-control-technology/field-oriented-control/">FOC As Hardware Building Block</a></li>
</ul>
</li>
<li>Infineon Technologies<ul>
<li><a href="https://www.infineon.com/dgdl/Infineon-motorcontrol_handbook-AdditionalTechnicalInformation-v01_00-EN.pdf?fileId=5546d4626bb628d7016be6a9aa637e69">Motor Handbook</a></li>
<li><a href="https://www.infineon.com/dgdl/Infineon-AN204469_FM3_Family_3_Phase_PMSM_FOC_Control-ApplicationNotes-v03_00-EN.pdf?fileId=8ac78c8c7cdc391c017d0d24236b6205">AN204469 - FM3 Family 3-Phase PMSM FOC Control</a></li>
<li><a href="https://www.infineon.com/dgdl/Infineon-Motor_power_tool_Block_Commutation_vs_FOC-ApplicationNotes-v01_00-EN.pdf?fileId=5546d4626eab8fbf016ed37fee474a65">Block commutation vs. FOC in power tool motor control</a></li>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 3h8a2 2 0 0 1 2-2 2 2 0 0 1 2 2h8v2h-1v11h-5.75L17 22h-2l-1.75-6h-2.5L9 22H7l1.75-6H3V5H2zm3 2v9h14V5zm6.85 6.85a.5.5 0 0 1-.35.15.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5c.14 0 .26.06.35.15l1.4 1.39c.32.32.64.64.64.96s-.32.64-.64.96z"/></svg></span>&nbsp;<a href="https://www.infineon.com/cms/media/eLearning/PSS/PSS_eLearning_Motor_control_for_BLDC_in_low_voltage_drives_english/?redirId=199119">Motor control for BLDC: block commutation vs. field-oriented control</a></li>
</ul>
</li>
<li>ST Microelectronics<ul>
<li><a href="https://www.st.com/resource/en/application_note/an5397-current-sensing-in-motion-control-applications-stmicroelectronics.pdf">AN5397: Current Sensing in Motion Control Applications</a></li>
<li><a href="https://www.st.com/resource/en/application_note/an4220-sensorless-sixstep-bldc-commutation-stmicroelectronics.pdf">AN4220: Sensorless Six-Step BLDC Commutation</a></li>
</ul>
</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-04-17T22:40:15+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-04-17</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-04-17T22:40:15+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-04-17</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:36016723+santaimpersonator@users.noreply.github.com">santaimpersonator</a>
    </nav>
  </span>

    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/santaimpersonator" class="md-author" title="@santaimpersonator">
          
          <img src="https://avatars.githubusercontent.com/u/36016723?v=4&size=72" alt="santaimpersonator">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>



  



                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright 2023 - <a href="https://www.sparkfun.com/" target="_blank" rel="noopener">SparkFun Electronics&#174;<br> <a href="https://goo.gl/maps/vkstCpQZW6jZMjzYA" target="_blank" rel="noopener">6333 Dry Creek Parkway, Niwot, Colorado 80503</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.sparkfun.com/products/21867" target="_blank" rel="noopener" title="www.sparkfun.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/sparkfun" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/sparkfun" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141m0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7m146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8m76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.github.com/sparkfun" target="_blank" rel="noopener" title="www.github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/SparkFun" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/sparkfun" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate", "content.action.edit", "navigation.footer", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.path"], "search": "../assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.b71cdcd1.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
        <script src="../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>